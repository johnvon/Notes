\lecture{6}{18 Jan. 11:00}{Hahn-Kolmogorov Theorem and Extension.}
Let's continue the proof of \autoref{thm:Hahn-Kolmogorov-Thm}.
\begin{proof}[Proof of \autoref{thm:Hahn-Kolmogorov-Thm} (cont.)]\label{pf:Hahn-Kolmogorov-Thm-cont}
	We proved the first part already, now we prove the part left.
	\begin{itemize}
		\item Let \(A\in \mathcal{A} _0\), we want to show that
		      \[
			      \mu (A) = \mu_0(A).
		      \]
		      \begin{itemize}
			      \item Firstly, let
			            \[
				            B_{i} = \begin{dcases}
					            A,            & \text{ if } i= 1    \\
					            \varnothing , & \text{ if } i\geq 2
				            \end{dcases}\in \mathcal{A} _0,
			            \]
			            hence \(\bigcup\limits_{i=1}^{\infty} B_{i} = A\), then we see that
			            \[
				            \mu ^{*} (A)\leq \sum\limits_{i=1}^{\infty} \mu _0(B_{i}) = \mu _0(A)
			            \]
			            from the \hyperref[prop:outer-measure]{definition} of \(\mu ^{*} \) and \hyperref[def:pre-measure-countable-additivity-within-the-algebra]{countable additivity within the algebra}
			            of \(\mu _0\).
			      \item Secondly, let \(B_{i}\in \mathcal{A} _0\), \(\bigcup\limits_{i=1}^{\infty} B_{i}\supset A\) be arbitrary.
			            Let \(C_1 = A\cap B_1\in \mathcal{A} _0\), \(C_{i} = A\cap B_{i}\setminus \left(\bigcup\limits_{j=1}^{i-1} B_{j}\right)\in \mathcal{A} _0\) for \(i\geq 2\)
			            since the operations are finite. Then we see
			            \[
				            A = \bigcup\limits_{i=1}^{\infty} C_{i}\in \mathcal{A} _0
			            \]
			            are disjoint countable unions, by \hyperref[def:pre-measure-countable-additivity-within-the-algebra]{countable additivity within the algebra},
			            we therefore have
			            \[
				            \mu _0(A) = \sum\limits_{i=1}^{\infty} \mu _0(C_{i}) \leq \sum\limits_{i=1}^{\infty} \mu_0 (B_{i})\implies \mu _0(A)\leq \mu ^{*} (A)
			            \]
			            by taking the infimum from the \hyperref[prop:outer-measure]{definition} of \(\mu ^{*} \).
		      \end{itemize}
		      Combine these two inequality, we see that
		      \[
			      \mu ^{*} (A) = \mu _0(A),
		      \]
		      for every \(A\in\mathcal{A} _0\), which implies
		      \[
			      \mu (A) = \mu _0(A)
		      \]
		      for every \(A\in \mathcal{A}_0\) from \autoref{thm:Caratheodory-extension-Thm}, where we extend \(\mu ^{*} \) to \(\mu \) respect to \(\mathcal{A}_0\).
	\end{itemize}
\end{proof}

\begin{definition}[HK extension]\label{def:HK-extension}
	\((\mathcal{A} , \mu )\) obtained from \autoref{thm:Hahn-Kolmogorov-Thm} is the \emph{Hahn-Kolmogorov extensions} of \((\mathcal{A} _0, \mu _0)\).
\end{definition}

We can show the uniqueness of \hyperref[def:HK-extension]{HK extension}.

\begin{theorem}[Uniqueness of HK extension]\label{thm:uniqueness-of-HK-extension}
	Let \(\mathcal{A}_0\) be an \hyperref[def:algebra]{algebra} on \(X\), \(\mu _0\) be a \hyperref[def:pre-measure]{pre-measure} on \(\mathcal{A} _0\). Let \((\mathcal{A} , \mu)\)
	be the \hyperref[def:HK-extension]{HK extension} of \((\mathcal{A} _0, \mu _0)\). Let \((\mathcal{A} ^\prime , \mu ^\prime )\) be another extension of \((\mathcal{A} _0, \mu _0)\).
	Then if \(\mu _0\) is \hyperref[def:finite-measure]{\(\sigma\)-finite}, \(\mu  = \mu ^\prime \) on \(\mathcal{A} \cap \mathcal{A} ^\prime \).
\end{theorem}
\begin{proof}
	First, we note the following.
	\begin{note}
		Notice that \(\mathcal{A}_0 \subset \mathcal{A}, \mathcal{A} ^\prime \) since they both extend \(\mathcal{A}_0\).
	\end{note}

	Let \(A\in \mathcal{A} \cap \mathcal{A} ^\prime \), we need to show
	\[
		\underbrace{\mu (A)}_{\mu ^{*} (A)} = \mu ^\prime (A).
	\]
	Firstly, it's easy to show that \(\mu ^{*} (A)\geq \mu ^\prime (A)\) by choosing the arbitrary cover of \(A\) and using the \hyperref[prop:outer-measure]{definition}  of
	\(\mu ^{*} \).

	Secondly, we will show that \(\mu (A)\leq \mu ^\prime (A)\).
	\begin{itemize}
		\item \label{pf:uniqueness-of-HK-extension-2.i}Assume \(\mu (A)<\infty \), and fix \(\epsilon >0\). Then there exists \(B_{i}\in\mathcal{A} _0\) with \(B\coloneqq \bigcup\limits_{i=1}^{\infty} B_{i}\supset A\)
		      such that
		      \[
			      \mu (A)+\epsilon = \mu ^{*} (A) + \epsilon\overset{\hyperref[prop:outer-measure]{!}}{\geq} \sum\limits_{i=1}^{\infty} \mu _0(B_{i}) \overset{\hyperref[def:pre-measure-countable-additivity-within-the-algebra]{!}}{=} \sum\limits_{i=1}^{\infty} \mu (B_{i})\geq \mu \left(\bigcup\limits_{i=1}^{\infty} B_{i}\right) = \mu (B).
		      \]
		      This implies that
		      \[
			      \mu (B\setminus A) = \mu (B) - \mu (A)\leq \epsilon
		      \]
		      where the first equality comes from \(A\subset B\) and \(\mu (A)<\infty \). On the other hand,
		      \[
			      \mu (B) = \lim\limits_{N \to \infty} \mu \left(\bigcup\limits_{i=1}^{N} B_{i}\right) = \lim\limits_{N \to \infty} \mu ^\prime \left(\bigcup\limits_{i=1}^{N} B_{i}\right) = \mu ^\prime (B)
		      \]
		      where the middle equality follows from \(\mu  = \mu ^\prime \) on \(\mathcal{A} _0\), hence,
		      \[
			      \mu (A)\leq \mu (B) = \mu ^\prime (B) = \mu ^\prime (A)+\mu ^\prime (B\setminus A) \leq \mu ^\prime (A) + \mu (B\setminus A) \leq \mu ^\prime (A) + \epsilon
		      \]
		      for arbitrary \(\epsilon \), so we conclude \(\mu (A)\leq \mu ^\prime (A)\).
		\item Assume \(\mu (A) = \infty \). Since \(\mu _0\) is \hyperref[def:finite-measure]{\(\sigma \)-finite}, so we know \(X = \bigcup\limits_{n=1}^{\infty} X_{n}\) for some \(X_{n}\in\mathcal{A} _0\) such that
		      \[
			      \mu _0(X_{n})<\infty.
		      \]
		      Replacing \(X_{n}\) by \(X_{1}\cup \ldots \cup X_{n} \in\mathcal{A} _0\), we may assume that
		      \[
			      X_1 \subset X_2 \subset \ldots.
		      \]
		      Then,
		      \[
			      \underset{n\in\mathbb{\MakeUppercase{N}} }{\forall}\ \mu (A \cap X_{n})<\infty\overset{\hyperref[pf:uniqueness-of-HK-extension-2.i]{!}}{\implies} \mu (A\cap X_{n})\leq \mu ^\prime (A\cap X_{n}).
		      \]

		      From the continuity of \hyperref[def:measure]{measure}, we then have
		      \[
			      \mu (A) = \lim\limits_{n \to \infty} \mu (A\cap X_{n})\leq \lim\limits_{n \to \infty} \mu ^\prime (A\cap X_{n}) = \mu ^\prime (A).
		      \]
	\end{itemize}
\end{proof}


\begin{corollary}
	Let \(\mu _0\) be a \hyperref[def:pre-measure]{pre-measure} on \hyperref[def:algebra]{algebra} \(\mathcal{A} _0\) on \(X\). Suppose \(\mu _0\) is \hyperref[def:finite-measure]{\(\sigma \)-finite}, then
	\[
		\exists! \text{ \hyperref[def:measure]{measure} \(\mu\) on \(\left< \mathcal{A} _0 \right> \) that extends \(\mathcal{A} _0\)}.
	\]
	Furthermore,
	\begin{itemize}
		\item The completion of \((X, \left< \mathcal{A} _0 \right>, \mu  )\) is the \hyperref[def:HK-extension]{HK extension} of \((\mathcal{A} _0, \mu _0)\).
		\item
		      \[
			      \mu (A) = \inf\left\{\sum\limits_{i=1}^{\infty} \mu _0(B_{i})\mid B_{i}\in \mathcal{A} _0, \underset{i\in\mathbb{\MakeUppercase{N}} }{\forall}\ \bigcup\limits_{i=1}^{\infty} B_{i}\supset A\right\}
		      \]
		      for all \(A\in \overline{\left< \mathcal{A} _0 \right> }\).
	\end{itemize}
\end{corollary}