\lecture{5}{14 Jan. 11:00}{Hahn-Kolmogorov Theorem}
Firstly, we see a stronger version of \autoref{lma:disjoint-C-measurable-finite-additive} we have seen before.
\begin{lemma}\label{lma:disjoint-C-measurable-infinite-additive}
	Let \(\mu^{*} \) be an outer measure on \(X\). Suppose \(B_1, B_2, \ldots\) are \underline{disjoint} C-measurable sets.
	Then,
	\[
		\forall E\subset X,\ \mu^{*} \left(E\cap \left(\bigcup\limits_{i=1}^{\infty} B_{i}\right)\right) = \sum\limits_{i=1}^{\infty} \mu^{*} \left(E\cap B_i\right).
	\]
\end{lemma}
\begin{proof}
	\[
		\sum\limits_{n=1}^{\infty} \mu^{*} (E\cap B_{i}) \geq \mu^{*} \left(E\cap \bigcup\limits_{n=1}^{\infty} B_{n}\right) \geq\mu^{*} \left(E\cap \left(\bigcup\limits_{n=1}^{N} B_{n}\right)\right) \overset{\hyperref[lma:disjoint-C-measurable-finite-additive]{!}}{=} \sum\limits_{n=1}^{N} \mu^{*} \left(E\cap B_n\right).
	\]

	Now, we just take \(N\to \infty \) (or note that \(N\in\mathbb{\MakeUppercase{N}} \) is arbitrary, we then get the result according to
	Squeeze Theorem\footnote{\url{https://en.wikipedia.org/wiki/Squeeze_theorem}}).
\end{proof}
Let's continue the proof of \autoref{thm:Caratheodory-extension-Thm}.
\begin{proof}[\unskip\nopunct]\label{pf:Caratheodory-extension-Thm-cont.}
	\begin{enumerate}
		\item[2.] Since from \autoref{def:measure}, we need to show
			\begin{itemize}
				\item \(\mu (\varnothing ) = 0\). This means that we need to show \(\at{\mu^{*} }{\mathcal{A}}{}(\varnothing ) = 0\). Since \(\varnothing \in \mathcal{A} \) and \(\mu^{*}\) is
				      an outer measure, hence from the \hyperref[def:outer-measure-empty-measure]{property} of outer measure, it clearly holds.
				\item \hyperref[def:measure-countable-additivity]{Countable additivity} of \(\mu^{*} \) on \(\mathcal{A}\) follows from the \autoref{lma:disjoint-C-measurable-infinite-additive} with \(E = X\)
			\end{itemize}
		\item[3.] Hw.
	\end{enumerate}
\end{proof}

\subsection{Hahn-Kolmogorov Theorem}
We see that we can start with any collection of open sets \(\mathcal{E}\) and any \(\rho\) such that it assigns measure on \(\mathcal{E}\), then induces an outer measure by \autoref{prop:outer-measure},
finally complete the outer measure by \autoref{thm:Caratheodory-extension-Thm}.

Specifically, we have
\[
	\begin{tikzcd}
		(\mathcal{E}, \rho) \ar[rr, "\text{\autoref{prop:outer-measure}}"] && (\mathcal{P}(X), \mu^{*} ) \ar[rr, "\text{\autoref{thm:Caratheodory-extension-Thm}}"] && (\mathcal{A} , \mu)
	\end{tikzcd}
\]

\par To introduce this concept, we see that we can start with a more general definition compared to \(\sigma\)-algebra we are working on till now.
\begin{definition}[Algebra]\label{def:algebra}
	Let \(X\) be a set. A collection \(\mathcal{A} \) of subsets of \(X\), i.e., \(\mathcal{A}\subset \mathcal{P} (X) \) is called an \emph{algebra on \(X\)} if
	\begin{itemize}
		\item \(\varnothing \in \mathcal{A} \).
		\item \(\mathcal{A} \) is closed under complements. i.e., if \(A\in \mathcal{A} \), \(A^c = X\setminus A\in \mathcal{A} \).
		\item \(\mathcal{A} \) is closed under \textbf{finite} unions. i.e., if \(A_i\in \mathcal{A} \), then \(\bigcup\limits_{i=1}^{n} A_{i}\in \mathcal{A} \) for \(n<\infty \).
	\end{itemize}
\end{definition}
\begin{remark}
	The only difference between an algebra and a \(\sigma\)-algebra is whether they closed under \textbf{countable} unions in the definition.
\end{remark}

\par Now, we can look at a more general setup compared to an \hyperref[def:outer-measure]{outer measure}.
\begin{definition}[Pre-measure]\label{def:pre-measure}
	Let \(\mathcal{A} _0\) be an \hyperref[def:algebra]{algebra} on \(X\). We say
	\[
		\mu_0 \colon \mathcal{A} _0\to [0, \infty ]
	\]
	is a \emph{pre-measure} if
	\begin{enumerate}
		\item\label{def:pre-measure-empty-measure}\(\mu_0(\varnothing ) = 0\)
		\item\label{def:pre-measure-finite-additivity}(finite additivity) \(\mu_0\left(\bigcup\limits_{i=1}^{n} A_{i}\right) = \sum\limits_{i=1}^{n} \mu_0(A_{i})\) if
		\(A_1, \ldots , A_n\in \mathcal{A} _0 \) are \underline{disjoint}.
		\item\label{def:pre-measure-countable-additivity-within-the-algebra}(countable additivity within the algebra) If \(A\in\mathcal{A} _0\) and \(A = \bigcup\limits_{n=1}^{\infty} A_{n}\),
		\(A_n\in\mathcal{A} _0\), \underline{disjoint}, then
		\[
			\mu_0(A) = \sum\limits_{n=1}^{\infty} \mu_0(A_{n}).
		\]
	\end{enumerate}
\end{definition}

\begin{lemma}
	(1) + (3) \(\implies \) (2) in \autoref{def:pre-measure}.
\end{lemma}
\begin{proof}
	It's easy to see that since \(\mu _0\) is monotone.
\end{proof}

\begin{theorem}[Hahn-Kolmogorov Theorem]\label{thm:Hahn-Kolmogorov-Thm}
	Let \(\mu_0\) be a pre-measure on algebra \(\mathcal{A} _0\) on \(X\).
	Let \(\mu^{*} \) be the outer measure induced by \((\mathcal{A} _0, \mu_0)\) in \autoref{prop:outer-measure}.
	Let \(\mathcal{A}\) and \(\mu\) be the \hyperref[thm:Caratheodory-extension-Thm]{CarathÃ©odory \(\sigma\)-algebra} and measure for \(\mu^{*} \), then
	\((\mathcal{A} , \mu)\) extends \((\mathcal{A} _0, \mu_0)\). i.e.,
	\[
		\mathcal{A} \supset \mathcal{A} _0,\quad \at{\mu}{\mathcal{A}_0 }{} = \mu_0.
	\]
\end{theorem}
\begin{proof}\let\qed\relax
	We prove this theorem in two parts.
	\begin{itemize}
		\item We first show \(\mathcal{A} \supset \mathcal{A} _0\). Let \(A\in \mathcal{A} _0\), we want to show \(A\in \mathcal{A} \), i.e.,
		      \(A\) is C-measurable, i.e.,
		      \[
			      \forall E\subset X\ \mu^{*} (E) = \mu^{*} (E\cap A) + \mu^{*} (E\cap A^{c}).
		      \]

		      \par We first fix an \(E\subset X\). From countable subadditivity of \(\mu^{*} \), we have
		      \[
			      \mu^{*} (E) \leq \mu^{*} (E\cap A) + \mu^{*} (E\cap A^{c} ).
		      \]
		      Hence, we only need to show another direction. If \(\mu^{*} (E) = \infty \), then \(\mu^{*} (E) = \infty \geq \mu^{*} (E\cap A) + \mu^{*} (E\cap A^{c} )\) clearly.
		      So, assume \(\mu^{*} (E)<\infty \).

		      \par Fix \(\epsilon >0\). By the \autoref{prop:outer-measure} of \(\mu^{*} \), \(\exists B_1, B_2, \ldots \in \mathcal{A}_0\),
		      \(\bigcup\limits_{n=1}^{\infty} B_{n}\supset E\) such that
		      \[
			      \mu^{*} (E) + \epsilon \overset{\hyperref[prop:outer-measure]{!}}{\geq} \sum\limits_{n=1}^{\infty} \mu_0(B_{n}) = \sum\limits_{n=1}^{\infty} \left(\mu_0(\underbrace{B_{n}\cap A}_{\in \mathcal{A} _0}) + \mu_0(\underbrace{B_{n}\cap A^{c}}_{\in \mathcal{A} _0} )\right)
		      \]
		      by the \hyperref[def:pre-measure-finite-additivity]{finite additivity} of \(\mu_0\). Note that
		      \[
			      \begin{dcases}
				       & \bigcup\limits_{n=1}^{\infty} (B_{n}\cap A)      \supset E\cap A     \\
				       & \bigcup\limits_{n=1}^{\infty} (B_{n}\cap A^{c})  \subset E\cap A^{c}
			      \end{dcases}\implies \mu^{*} (E)+\epsilon \geq \mu^{*} (E\cap A) + \mu^{*} (E\cap A^{c} )
		      \]
		      since
		      \[
			      \mu^{*} (E\cap A)\leq \mu^{*} \left(\bigcup\limits_{n=1}^{\infty} (B_{n}\cap A)\right)\leq \sum\limits_{n=1}^{\infty} \mu^{*} (B_{n}\cap A)
		      \]
		      and
		      \[
			      \mu^{*} (E\cap A^{c} )\leq \mu^{*} \left(\bigcup\limits_{n=1}^{\infty} (B_{n}\cap A^{c})\right) \leq \sum\limits_{n=1}^{\infty} \mu^{*} (B_{n}\cap A^{c} ).
		      \]
		      We then see that for any \(\epsilon >0\), the inequality
		      \[
			      \mu^{*} (E)+\epsilon \geq \mu^{*} (E\cap A) + \mu^{*} (E\cap A^{c} )
		      \]
		      holds, hence so does
		      \[
			      \mu^{*} (E) \geq \mu^{*} (E\cap A) + \mu^{*} (E\cap A^{c} ),
		      \]
		      which implies \(\mathcal{A} \supset \mathcal{A} _0\).
	\end{itemize}
	\emph{The proof will be \hyperref[pf:Hahn-Kolmogorov-Thm-cont]{continued}\ldots}
\end{proof}