\lecture{9}{2 Feb. 14:30}{Tensors and Connections}
\subsection{Tensor Fields}
We can introduce the notion of ``\hyperref[def:tensor-field]{tensor fields}'' in a brute-fore way.\footnote{See \autoref{subsection:C-infty-module-viewpoint-of-tensor-fields} for another view point.} To do this, given a vector space \(V\), we first introduce \hyperref[def:tensor]{tensors}.

\begin{definition}[Tensor]\label{def:tensor}
	Let \(V\) be a vector space of dimension \(m < \infty \), and the dual space \(V^{\ast}\).\footnote{I.e., \(V^{\ast} \coloneqq \left\{ \lambda \colon V \to \mathbb{R} \mid \lambda \text{ linear} \right\} \).} Then the vector space of the \emph{\(r\)-times contravariant and \(s\)-times covariant tensors over \(V\)}, denoted as \(T_s^r(V) \), is the \hyperref[def:vector-field]{vector field} defined as
	\[
		T_s^r(V) = \{ T\colon \underbrace{V^{\ast} \times \ldots \times V^{\ast} }_{r} \times \underbrace{V\times \ldots \times V}_{s} \to \mathbb{R} \}
		= \underbrace{V \otimes \ldots \otimes V}_{r} \otimes \underbrace{V^{\ast} \otimes \ldots \otimes V^{\ast} }_{s}.
	\]
\end{definition}

\begin{notation}
	Let \(\mathcal{M} ^n \) be a \hyperref[def:smooth-manifold]{smooth manifold} and \(\pi \colon E \to \mathcal{M} \) a \hyperref[def:vector-bundle]{smooth vector bundle}, then the set of \hyperref[def:section]{sections} is denoted as
	\[
		\Gamma (E) \coloneqq \left\{ s\in C^{\infty} (\mathcal{M} , E) \mid \pi \circ s = \identity_{\mathcal{M} } \right\}.
	\]
\end{notation}

\begin{eg}
	Consider the \hyperref[def:vector-bundle]{vector bundle} \((T\mathcal{M} , \pi , \mathcal{M} )\), then \(\Gamma (T\mathcal{M} ) \coloneqq \left\{ \text{\hyperref[def:vector-field]{vector fields} on } \mathcal{M} \right\} \).
\end{eg}

\begin{eg}
	\(\Gamma (\Lambda _s \mathcal{M} ) \coloneqq \left\{ \text{\(s\)-forms on } \mathcal{M} \right\} \) with \(\Lambda _s \mathcal{M} = \Lambda ^s\left( \bigcup_{p\in \mathcal{M} } T^{\ast} _p \mathcal{M}  \right) \).\footnote{Here, \(\Lambda ^s(V^{\ast} ) \coloneqq \left\{ A\in T_s^0(V) \mid A \text{ skew-symmetric} \right\} \), where \(s\in \mathbb{N} \).}
\end{eg}

Then, we have the following.

\begin{definition}[Tensor field]\label{def:tensor-field}
	The \emph{\((r, s)\)-tensor fields} on \(\mathcal{M} \) is defined as elements in \(\Gamma (T_s^r \mathcal{M} )\) with \(T_s^r \mathcal{M} = \bigcup_{p\in \mathcal{M} }T^r_s(T_p \mathcal{M} )\).
\end{definition}

\begin{eg}
	A \hyperref[def:Riemannian-metric]{Riemannian metric} \(g\) on \(\mathcal{M} \) is a \hyperref[def:tensor-field]{\((0, 2)\)-tensor field}, i.e., \(g\in \Gamma (T_2^0 (\mathcal{M} ))\) for all \(p \in \mathcal{M} \).
\end{eg}
\begin{explanation}
	Since \(g_p \colon T_p \mathcal{M} \times T_p \mathcal{M} \to \mathbb{R} \).
\end{explanation}

\section{Other Metrics}
Finally, we discuss some other metrics we may let a \hyperref[def:smooth-manifold]{manifold} equipped with.

\begin{definition}[Pseudo-Riemannian metric]\label{def:pseudo-Riemannian-metric}
	A \emph{pseudo-Riemannian metric} on a \hyperref[def:smooth-manifold]{differentiable manifold} \(\mathcal{M} \) is a \hyperref[def:tensor-field]{\((0, 2)\)-tensor field} \(g\in \Gamma (T_2^0 (\mathcal{M}) )\) for all \(p\in \mathcal{M} \) with
	\begin{enumerate}[(a)]
		\item \(g(X, Y) = g(Y, X)\) for all \(X, Y\in T \mathcal{M} \);
		\item for all \(p\in \mathcal{M} \), \(g_p\) is non-degenerate bilinear form on \(T_p \mathcal{M} \), i.e., \(g_p(X, Y) = 0\) for all \(X, Y\in T_p \mathcal{M} \) if and only if \(Y = 0\).
	\end{enumerate}
\end{definition}

\begin{note}
	A \hyperref[def:pseudo-Riemannian-metric]{pseudo Riemannian metric} is actually a \hyperref[def:Riemannian-metric]{Riemannian metric} if it's positive definite at every \(p\in \mathcal{M} \).
\end{note}

\begin{definition}[Lorentzian metric]\label{def:Lorentzian-metric}
	A \emph{Lorentzian metric} \(g\) is a continuous assignment of a non-degenerate\footnote{\(g_p(X, Y) = 0\) for all \(Y\in T_p \mathcal{M} \) implies \(X = 0\).} quadratic form \(g_p\) of index \(1\)\footnote{It means that the maximal dimension of a subspace of \(T_p \mathcal{M} \) on which \(g_p\) is negative definite is \(1\).} in \(T_p \mathcal{M} \) for all \(p\in \mathcal{M} \).
\end{definition}

An equivalent definition is the following.

\begin{definition}[Lorentzian]\label{def:Lorentzian}
	A quadratic form \(g_p\) in \(T_{p} \mathcal{M} \) is \emph{Lorentzian} if there exists a vector \(V\in T_p \mathcal{M} \) such that \(g_p(V, V) < 0\) while setting \(\Sigma _V = \left\{ X \mid g_p(X, V) = 0 \right\}\) such that \(\at{g_p}{\Sigma _V}{} \)\footnote{The \(g_p\)-orthogonal complement of \(V\).} is positive definite.
\end{definition}

\begin{eg}[Minkowski space]
	The Minkowski space on \(\mathbb{R} ^4\) is the prototypical example from physics (flat spacetime). Namely, the metric is given by the quadratic form
	\[
		\begin{bmatrix}
			-1 & 0 & 0 & 0 \\
			0  & 1 & 0 & 0 \\
			0  & 0 & 1 & 0 \\
			0  & 0 & 0 & 1 \\
		\end{bmatrix}
	\]
	with the coordinates being \((t, x, y, z)\).
\end{eg}

\chapter{Connections and Curvatures}
So far, we saw that a \hyperref[def:vector-field]{vector field} \(X\) can be used to provide a directional derivative since it gives us a \hyperref[def:tangent-vector]{tangent vector} at each point smoothly. Now, we will introduce a new symbol \(\nabla \) where we let
\[
	\nabla _X f\coloneqq Xf
\]
for \(f\in C^{\infty} (\mathcal{M} )\).

\begin{problem*}
	Does this notation overkill? We already know that \(Xf = (\mathrm{d} f)(X)\)!
\end{problem*}
\begin{answer}
	No! While \(\nabla , X\colon C^{\infty} (\mathcal{M} ) \to C^{\infty} (\mathcal{M} )\), while \(\mathrm{d} f\colon \Gamma (T \mathcal{M} ) \to C^{\infty} (\mathcal{M} )\), we can generalize \(\nabla _X\) to act from \hyperref[def:vector-field]{vector fields} to \hyperref[def:vector-field]{vector fields}! The insight is that if \(X\) can be extended naturally (without providing any extra structures), then we certainly won't bother introducing a new symbol. However, as you might guess, to let \(\nabla \) doing this, we do need to provide extra structures, and \(\nabla \) stands exactly for these extra structures!
\end{answer}

In some sense, this new notions \(\nabla \) allows us to ``connect'' \hyperref[def:tangent-space]{tangent spaces}, which allows us to make sense of ``curvatures'' and other geometric property of a \hyperref[def:Riemannian-manifold]{Riemannian manifold}.

\section{Levi-Civita Connections}
We start by talking about \hyperref[def:linear-connection]{linear connections}, and then realize that after specifying a \hyperref[def:Riemannian-metric]{Riemannian metric} \(g\), with an additional (technical) assumption, a unique \hyperref[def:linear-connection]{linear connection}, defined as \hyperref[def:Levi-Civita-connection]{Levi-Civita connections}, exists for any \hyperref[def:Riemannian-manifold]{Riemannian manifold}. In other words, specifying \(g\) is the same as specifying the ``shape of the space.'' We'll make sense of all these on the way.

\subsection{Affine Connections}
We first formulate a \emph{wish list} of properties which the \(\nabla _X\) should have. Any remaining freedom in choosing \(\nabla \) will need to be provided as additional structures beyond the structures on \(\mathcal{M}\) we already have.

\begin{definition}[Linear connection]\label{def:linear-connection}
	A \emph{linear connection} (\emph{affine connection}) on a \hyperref[def:smooth-manifold]{smooth manifold} \(\mathcal{M}\) is a bilinear map
	\[
		\nabla \colon \Gamma (T \mathcal{M} ) \times \Gamma (T \mathcal{M} ) \to \Gamma (T \mathcal{M} ),
	\]
	which is denoted by \(\nabla (X, Y) = \nabla _X Y\) and which satisfies
	\begin{enumerate}[(a)]
		\item \(\nabla _{fX+gY}Z = f \nabla _X Z + g \nabla _Y Z\);
		\item \(\nabla _X (Y+Z) = \nabla _X Y + \nabla _X Z\);
		      \item\label{def:linear-connection-c} \(\nabla _X fY = f \nabla _X Y + X(f)Y\);
	\end{enumerate}
	for all \hyperref[def:vector-field]{vector fields} \(X, Y, Z\in \Gamma (T \mathcal{M} )\) and \(f, g\in C^{\infty} (\mathcal{M} )\).
\end{definition}

\begin{note}
	There's a similar notation called \hyperref[def:covariant-derivative]{covariant derivative}, denoted by \(\mathrm{D} \), satisfies similar properties as a \hyperref[def:linear-connection]{linear connection}. Hence, we often write \(\mathrm{D} \) and \(\nabla \) interchangeably.\footnote{\(\nabla \) is more general than \(\mathrm{D}\); however, we treat them as the same as suggested by \autoref{prop:covariant-derivative}.}
\end{note}

\begin{remark}
	\autoref{def:linear-connection} \autoref{def:linear-connection-c} shows that this is actually a local notion as we will see.
\end{remark}

Now, one might be wondering that, after fixing these rules we want, how much freedom is left? To see this, let's first do some calculations...

\subsection{Connection Coefficients}
Choose a \hyperref[def:coordinate-chart]{system of coordinates} \((x_1, \ldots , x_n)\) at \(p\in \mathcal{M} \), we can write \(X = X^i \frac{\partial }{\partial x_i}, Y = Y^j \frac{\partial }{\partial x_j}\), then
\[
	\nabla _X Y
	= \nabla _{X^i \frac{\partial }{\partial x_i} } \left( Y^j \frac{\partial }{\partial x_j}  \right)
	= X^i Y^j \nabla _{\frac{\partial }{\partial x_i}} \frac{\partial }{\partial x_j} + X^i \frac{\partial }{\partial x_i}(Y^j)  \frac{\partial }{\partial x_j}.
\]
Now, we see that \(\nabla _{\partial / \partial x_i} \frac{\partial }{\partial x_j}\) is another \hyperref[def:vector-field]{vector field}, hence can again write
\[
	\nabla _{\frac{\partial }{\partial x_i}} \frac{\partial }{\partial x_j} \eqqcolon \sum_{k} \Gamma ^k_{ij} \frac{\partial }{\partial x_k}
\]
in terms of the basis with a new set of coefficients \(\Gamma \).

\begin{notation}[Connection coefficient]\label{not:connection-coefficient}
	The coefficients \(\Gamma ^k_{ij}\) is called the \emph{connection coefficients}.\footnote{It's tempting to say that the \hyperref[not:connection-coefficient]{connection coefficients} are the same as \hyperref[not:Christoffel-symbol]{Christoffel symbols} since we're using the same symbols. Indeed, they are! For a deeper understanding, see \autoref{section:Christoffel-symbols}.}
\end{notation}

\begin{note}
	It's clear that \(\Gamma ^k_{ij}\) are differentiable and \hyperref[def:coordinate-chart]{charts}-dependent and hence \(\nabla \) is local.
\end{note}

Finally, we have
\[
	\nabla _X Y = \left( X^i Y^j \Gamma ^k_{ij} + X(Y^k) \right) \frac{\partial }{\partial x_k}
	\implies (\nabla _X Y)^k = X(Y^k) + \Gamma ^k_{ij} X^i Y^j,
\]
meaning that we have \((\dim \mathcal{M} )^3\) many \(\Gamma\)'s (freedom) when choosing \(\Gamma ^k_{ij}\) with \autoref{def:linear-connection}.\footnote{This is for a particular domain \(U\).}

\begin{remark}
	One might ask what about other \hyperref[def:tensor-field]{tensor fields}? Fortunately, the same set of \(\Gamma \)'s fix the action of \(\nabla \) on any \hyperref[def:tensor-field]{tensor fields}.
\end{remark}
\begin{explanation}
	The key observation is that if we define \(\nabla _{\frac{\partial }{\partial x^j} } (\mathrm{d} x^i) \eqqcolon \Sigma ^i _{j k} \mathrm{d} x^k\), then
	\[
		\nabla _{\frac{\partial }{\partial x^j} } \left( \mathrm{d} x^i \left( \frac{\partial }{\partial x^k}  \right)  \right) =
		\begin{dcases}
			\frac{\partial }{\partial x^j} (\delta ^i_k) = 0; \\
			\vphantom{\left( \nabla _{\frac{\partial }{\partial x^j} } \mathrm{d} x^i\right) \frac{\partial }{\partial x^k} + \mathrm{d} x^i\left( \nabla _{\frac{\partial }{\partial x^j}} \frac{\partial }{\partial x^k} \right)}
			\smash{\left( \nabla _{\frac{\partial }{\partial x^j} } \mathrm{d} x^i\right) \frac{\partial }{\partial x^k}
			+ \mathrm{d} x^i \underbrace{\left( \nabla _{\frac{\partial }{\partial x^j}} \frac{\partial }{\partial x^k} \right)}_{\Gamma ^\ell _{jk} \frac{\partial }{\partial x^{\ell } }},}
		\end{dcases}
		\vphantom{\begin{dcases}
				\frac{\partial }{\partial x^j} (\delta ^i_k) = 0; \\
				\left( \nabla _{\frac{\partial }{\partial x^j} } \mathrm{d} x^i\right) \frac{\partial }{\partial x^k}
				+ \mathrm{d} x^i \underbrace{\left( \nabla _{\frac{\partial }{\partial x^j}} \frac{\partial }{\partial x^k} \right)}_{\Gamma ^\ell _{jk} \frac{\partial }{\partial x^{\ell } }}
			\end{dcases}}
	\]
	leading to
	\[
		\left( \nabla _{\frac{\partial }{\partial x^j} } \mathrm{d} x^i\right) \frac{\partial }{\partial x^k}
		= - \mathrm{d} x^i \left( \Gamma ^\ell _{jk} \frac{\partial }{\partial x^{\ell } }  \right)
		\implies \left( \nabla _{\frac{\partial }{\partial x^j} } \mathrm{d} x^i\right)_k
		= - \Gamma ^i _{jk}
	\]
	since \(\mathrm{d} x^i \frac{\partial }{\partial x^{\ell } } = \delta ^i_{\ell }\).
\end{explanation}

In summary, we have
\[
	\begin{dcases}
		(\nabla _X Y)^k = X(Y^k) + \Gamma ^k_{ij} X^i Y^j,                  & \text{ if \(Y\) is a \hyperref[def:vector-field]{vector field}} ;          \\
		(\nabla _X \omega)_k = X(\omega _k) - \Gamma ^j_{ik} X^i \omega _j, & \text{ if \(\omega\) is a \hyperref[def:vector-field]{co-vector field}}  .
	\end{dcases}
\]

\subsection{Levi-Civita Connections}
The basic insight is that, after choosing a particular \hyperref[def:linear-connection]{connection} (remember that we have freedom to choose \(\Gamma \)'s), the space is basically fixed: i.e., the shape (curvature) of the space is determined by the choice of \(\nabla \)! We now formalize this idea. A particularly natural notion related to ``curvature'' is the \hyperref[def:torsion]{torsion}, defined as follows.

\begin{definition}[Torsion]\label{def:torsion}
	The \emph{torsion} \(T\) of a \hyperref[def:linear-connection]{linear connection} \(\nabla \) is the \hyperref[def:tensor]{\((1, 2)\)-tensor field}
	\[
		T(\omega , X, Y) \coloneqq \omega \left( \nabla _X Y - \nabla _Y X - [X, Y] \right) .
	\]
\end{definition}

\begin{notation}
	We usually write this as \(T(X, Y)\) by neglecting \(\omega \).
\end{notation}

\begin{remark}
	\(T\) is actually \(C^{\infty} \)-linear in each entry,\footnote{See \autoref{subsection:C-infty-module-viewpoint-of-tensor-fields}.} hence a \hyperref[def:tensor-field]{tensor field}.
\end{remark}
\begin{explanation}
	Since \(T(f\cdot \omega , X, Y) = f\cdot \omega \left( \ldots \right) = f T(\omega , X, Y)\) and \(T(\omega + \psi , X, Y) = \ldots = T(\omega , X, Y) + T(\psi , X, Y)\), and also
	\[
		\begin{split}
			T(\omega , fX, Y) &= \omega \left( \nabla _{fX} Y - \nabla _Y(fX) - [fX, Y] \right) \\
			&= \omega (f \nabla _X Y - (Yf) X - f \nabla _Y X - f[X, Y] + (Yf)X)
			= f\cdot T(\omega , X, Y)
		\end{split}
	\]
	since
	\[
		([fX, Y])g = f\cdot X(Y g) - Y(f\cdot Xg)
		= f\cdot X(Yg) - (Yf) (Xg) - f\cdot Y(Xg)
		= \left( f\cdot [X, Y] - (Yf)X \right) g.
	\]
	Finally, we claim that the additivity at \(X\) holds, with \(T(\omega , X, Y) = -T(\omega , Y, X)\), we're done.
\end{explanation}

\begin{intuition}
	\autoref{def:torsion} makes sense (in such a form) since this will make \(T\) actually a \hyperref[def:tensor-field]{tensor field}. For example, without the \hyperref[def:bracket]{Lie bracket} term, we don't have the linearity at \(X\) (hence \(Y\)).
\end{intuition}

\begin{definition}[Torsion-free]\label{def:torsion-free}
	A \hyperref[def:linear-connection]{linear connection} \(\nabla \) is \emph{torsion-free} if \(T = 0\).
\end{definition}

In a \hyperref[def:coordinate-chart]{chart},
\[
	T^i_{jk} \coloneqq T\left( \mathrm{d} x^i, \frac{\partial }{\partial x^j} , \frac{\partial }{\partial x^k} \right) = \Gamma ^i_{jk} - \Gamma ^i_{kj} = 2\Gamma ^i_{[jk]}.
\]

\begin{definition}[Riemannian]\label{def:Riemannian}
	Let \(\nabla \) be a \hyperref[def:linear-connection]{linear connection} and \(g\) be a \hyperref[def:Riemannian-metric]{Riemannian metric} on \(\mathcal{M} \). Then \(\nabla \) is \emph{Riemannian} (or \emph{metric}) if for all \(X, Y, Z\in \Gamma (T\mathcal{M} )\),\footnote{We view \(g(X, Y)\in C^{\infty} (\mathcal{M} )\) as suggested by \autoref{subsection:C-infty-module-viewpoint-of-tensor-fields}.}
	\[
		Z(g(X, Y)) = g(\nabla _{Z} X, Y) + g(X, \nabla _{Z} Y).
	\]
\end{definition}

\begin{remark}
	Equivalently, \autoref{def:Riemannian} can be formulated as \(\nabla g = 0\).
\end{remark}

\begin{proposition}[Koszul formula]\label{prop:Koszul-formula}
	On each \hyperref[def:Riemannian-manifold]{Riemannian manifold} \((\mathcal{M} , g)\), there exists a unique \hyperref[def:Riemannian]{Riemannian}, \hyperref[def:torsion-free]{torsion-free} \hyperref[def:linear-connection]{connection} \(\nabla \) on \(T\mathcal{M} \) determined by the \emph{Koszul formula}
	\begin{equation}\label{eq:Koszul-formula}
		\left\langle \nabla _X Y, Z \right\rangle = \frac{1}{2} \left( X \left\langle Y, Z \right\rangle - Z\left\langle X, Y \right\rangle + Y\left\langle Z, X \right\rangle - \left\langle X, [Y, Z] \right\rangle + \left\langle Z, [X, Y] \right\rangle + \left\langle Y, [Z, X] \right\rangle \right).
	\end{equation}
\end{proposition}
\begin{proof}[Proof sketch]
	Firstly, we can show that every \hyperref[def:Riemannian]{Riemannian} and \hyperref[def:torsion-free]{torsion-free} \hyperref[def:linear-connection]{connection} satisfies \autoref{eq:Koszul-formula}, which implies uniqueness. For existence, we verify that the unique map \(\nabla \colon \Gamma (T \mathcal{M} ) \times \Gamma (T \mathcal{M} )\to \Gamma (T\mathcal{M} )\) given by \autoref{eq:Koszul-formula} is \hyperref[def:Riemannian]{Riemannian} and \hyperref[def:torsion-free]{torsion-free}.
\end{proof}

Finally, we define the following.

\begin{definition}[Levi-Civita connection]\label{def:Levi-Civita-connection}
	The \emph{Levi-Civita connection} is the unique \hyperref[def:linear-connection]{linear connection} \(\nabla \) defined by the \hyperref[eq:Koszul-formula]{Koszul formula}.
\end{definition}


\begin{remark}
	This means, given a \hyperref[def:Riemannian-metric]{Riemannian metric} \(g\), with the condition of \hyperref[def:torsion-free]{torsion-free}, the shape of the space is also fixed since there's a unique \hyperref[def:linear-connection]{linear connection} \(\nabla \) such that \(T = \nabla g = 0\).
\end{remark}