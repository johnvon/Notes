\chapter{Riemannian Manifolds}
\lecture{5}{19 Jan.\ 13:00}{Riemannian Manifolds}
In this chapter, we start our discussion on \hyperref[def:Riemannian-manifold]{Riemannian manifolds}.

\section{Riemannian Metrics}
We start by defining the \hyperref[def:Riemannian-metric]{Riemannian metric}.

\begin{definition}[Riemannian metric]\label{def:Riemannian-metric}
	A \emph{Riemannian metric} \(g\) on a \hyperref[def:smooth-manifold]{differentiable manifold} \(\mathcal{M} \) is given by a scalar product \(I\) on each \(T_p \mathcal{M} \) which depends smoothly on the base point \(p\).
\end{definition}

\begin{definition}[Riemannian manifold]\label{def:Riemannian-manifold}
	A \emph{Riemannian manifold} \((\mathcal{M} , g)\) is a \hyperref[def:smooth-manifold]{smooth manifold} \(\mathcal{M} \) equipped with a \hyperref[def:Riemannian-metric]{Riemannian metric} \(g\).
\end{definition}

Let \(x=(x^1, \dots , x^d)\) be the \hyperref[def:coordinate-chart]{local coordinates}. In these, a \hyperref[def:Riemannian-metric]{metric} is represented by a positive definite symmetric matrix \(\big( g_{ij} (x) \big) _{i, j=1, \dots , d}\), i.e., \(g_{ij} = g_{ji} \), and \(g_{ij} \xi ^i \xi ^j > 0\) for all \(\xi =(\xi ^1, \dots , \xi ^d) \neq 0\) with coefficients smoothly depending on \(x\).

\subsection{Transformation Behavior}
We now see that the smoothness does not depend on \hyperref[def:coordinate-chart]{coordinates}, i.e., the smooth dependence on the base point (as required in \autoref{def:Riemannian-metric}) can be represented in the \hyperref[def:coordinate-chart]{local coordinates}. Given \(2\) \hyperref[def:tangent-vector]{tangent vectors} \(v, w\in T_p \mathcal{M} \) with \hyperref[def:coordinate-chart]{coordinate representations} \((v^1, \dots , v^d), (w^1, \dots , w^d)\) given by \(x\) such that \(v = v^i \frac{\partial }{\partial x^i} \) and \(w = w^i \frac{\partial }{\partial x^i} \), their product is
\[
	\left\langle v, w \right\rangle \coloneqq g_{ij} (x(p)) v^i w^j.
\]
In particular,
\[
	\left\langle \frac{\partial }{\partial x^i} , \frac{\partial }{\partial x^j} \right\rangle = g_{ij} .
\]

\begin{remark}
	The length of \(v\) is given as \(\lVert v \rVert \coloneqq \left\langle v, v \right\rangle ^{1 / 2}\).
\end{remark}

Let \(y = f(x)\) define different \hyperref[def:coordinate-chart]{local coordinates}. In these, \(v, w\) are given as
\[
	(\widetilde{v} ^1, \dots , \widetilde{v} ^d), (\widetilde{w} ^1, \dots , \widetilde{w} ^d)
\]
with \(\widetilde{v} ^j = v^i \frac{\partial f^j}{\partial x^i} \) and \(\widetilde{w} ^j = w^i \frac{\partial f^j}{\partial x^i} \). Denote the \hyperref[def:Riemannian-metric]{metric} in new \hyperref[def:coordinate-chart]{coordinates} \(y\) by \(h_{k \ell }(y)\), then we have
\[
	h_{k \ell }(f(x))\widetilde{v} ^k \widetilde{w} ^\ell
	= \left\langle v, w \right\rangle
	= g_{ij}(x)v^i w^j .
\]
Plug everything in, we have
\[
	h_{k \ell }(f(x)) \frac{\partial f^k}{\partial x^i} \frac{\partial f^{\ell } }{\partial x^j} v^i w^j
	= g_{ij}(x) v^i w^j.
\]
We see that this holds for any \hyperref[def:tangent-vector]{tangent vectors} \(v, w\), therefore,
\[
	h_{k \ell }(f(x)) \frac{\partial f^k}{\partial x^i} \frac{\partial f^{\ell } }{\partial x^j} = g_{ij} (x),
\]
which is the transformation behavior under \hyperref[def:coordinate-transition]{coordinates changes}.

\begin{remark}
	This shows that the smoothness does not depend on the choice of coordinates!
\end{remark}

\begin{eg}
	Consider the Euclidean space \(\Omega \), then given \(v, w\in T_p \Omega \), we have
	\[
		\left\langle v, w \right\rangle
		= \delta _{ij} v^i w^j
		= v^i w_i.
	\]
\end{eg}

\begin{theorem}
	Every \hyperref[def:smooth-manifold]{differentiable manifold} can be equipped with a \hyperref[def:Riemannian-metric]{Riemannian metric}.
\end{theorem}
\begin{proof}
	From \autoref{lma:partition-of-unity}, there exists a differentiable \hyperref[def:partition-of-unity]{partition of unity} \(\left\{ f_\alpha \right\} \) of \(\mathcal{M} \) subordinate to a covering \(\left\{ V_\alpha \right\} \) of \(\mathcal{M} \). Consider the induced \hyperref[def:Riemannian-metric]{metric} \( \left\langle \cdot, \cdot \right\rangle ^{\alpha }\) of the system of \hyperref[def:coordinate-chart]{local coordinates} on each \(V_\alpha \). Then, for every \(p\in M\), a \hyperref[def:Riemannian-metric]{Riemannian metric} \(\left\langle \cdot, \cdot \right\rangle _p\) can be defined naturally as
	\[
		\left\langle u, v \right\rangle _p = \sum_{\alpha } f_\alpha (p)\left\langle u, v \right\rangle _p^\alpha
	\]
	for all \(u, v\in T_p M \). Given the fact that \(\left\{ f_\alpha \right\} \) is the \hyperref[def:partition-of-unity]{partition of unity}, we know that
	\begin{enumerate}[(a)]
		\item \(f_\alpha \geq 0\), and \(f_\alpha = 0\) on \(\overline{V} _\alpha ^{c} \),
		\item \(\sum_{\alpha } f_\alpha (p) = 1\) for all \(p\) on \(M\),
	\end{enumerate}
	it's then immediate that the defined is indeed a \hyperref[def:Riemannian-metric]{Riemannian metric}.
\end{proof}

\subsection{Isometry}
After introducing any type of mathematical structure, we must introduce a notion of when two objects are the same, hence we now characterize \(g\).

\begin{definition}[Isometry]\label{def:isometry}
	A \hyperref[def:diffeomorphism]{diffeomorphism} \(h\colon \mathcal{M} \to \mathcal{N} \) is an \emph{isometry} between two \hyperref[def:Riemannian-manifold]{Riemannian manifolds} if it preserves the \hyperref[def:Riemannian-metric]{Riemannian metric}, i.e., for \(p\in \mathcal{M} \), \(v, w\in T_p \mathcal{M} \),
	\[
		\left\langle v, w \right\rangle _{\mathcal{M} } = \left\langle \mathrm{d} h(v), \mathrm{d} h(w) \right\rangle _{\mathcal{N} }.
	\]
\end{definition}

\begin{definition}[Local isometry]\label{def:local-isometry}
	A \hyperref[def:diffeomorphism]{diffeomorphism} \(h\colon \mathcal{M} \to \mathcal{N} \) is a \emph{local isometry} between two \hyperref[def:Riemannian-manifold]{Riemannian manifolds} if for every \(p\in \mathcal{M} \), there exists a neighborhood \(U\) such that \(\at{h}{U}{} \colon U \to h(U)\colon \mathcal{M} \to \mathcal{N} \) is an \hyperref[def:isometry]{isometry} and \(h(U) \subseteq \mathcal{N} \) is open.
\end{definition}

If's common to say that a \hyperref[def:Riemannian-manifold]{Riemannian manifold} \(\mathcal{M} \) is \hyperref[def:local-isometry]{locally isometric} to a \hyperref[def:Riemannian-manifold]{Riemannian manifold} \(\mathcal{N} \) if for every \(p\in \mathcal{M} \), there exists a neighborhood \(U\) of \(p\) in \(\mathcal{M} \) and a \hyperref[def:local-isometry]{local isometry} \(f\colon U \to f(U) \subseteq \mathcal{N} \).

\begin{eg}[Euclidean space]
	The \emph{Euclidean space of dimension \(n\)} \(\mathcal{M} = \mathbb{R} ^n\) with \(\partial /\partial x_i\) identified with \(e_i =(0, \dots , 1, \dots , 0)\) is with the metric
	\[
		\left\langle e_i, e_j \right\rangle = \delta _{ij}.
	\]
	The Riemannian geometry of this space is metric Euclidean geometry.
\end{eg}

\begin{eg}[Lie group]
	See \autoref{section:Lie-group-and-Lie-algebra} for reference.
\end{eg}

\section{Geodesics}
This is the first focus on the study of Riemannian geometry, i.e., the \hyperref[def:geodesic]{geodesics}. The up-shot is that a \hyperref[def:geodesic]{geodesic} minimizes the \hyperref[def:length]{arc length} for points \emph{sufficiently close} (in a sense to be made precise); in addition, if a \hyperref[def:curve]{curve} minimizes \hyperref[def:length]{arc length} between any two of its points, it is a \hyperref[def:geodesic]{geodesic}.

\subsection{Vector Fields along Curves}
We are now going to show how a \hyperref[def:Riemannian-metric]{Riemannian metric} can be used to calculate the \hyperref[def:length]{length} of a \hyperref[def:curve]{curve}.

\begin{definition}[Curve]\label{def:curve}
	A (parametrized) \emph{curve} is a differentiable mapping \(c\colon I \subseteq \mathbb{R} \to \mathcal{M} \) to a \hyperref[def:smooth-manifold]{smooth manifold} \(\mathcal{M} \).
\end{definition}

\begin{note}
	A parametrized \hyperref[def:curve]{curve} can admit self-intersections as well as corners.
	\begin{center}
		\incfig{curve-self-intersect-and-corner}
	\end{center}
\end{note}

\begin{definition}[Vector field along a curve]\label{def:vector-field-along-curve}
	A \emph{(smooth) vector field \(X\) along a curve} \(c\colon I \subseteq \mathbb{R} \to \mathcal{M} \) on a \hyperref[def:smooth-manifold]{smooth manifold} \(\mathcal{M} \) is defined as \(X\colon I \to T \mathcal{M} \) such that \(X(t)\in T_{c(t)} \mathcal{M} \) for all \(t\in I\).
\end{definition}

\begin{notation}
	The set of smooth \hyperref[def:vector-field-along-curve]{vector fields along \(c\)} is denoted as \(\chi _c(\mathcal{M} )\).
\end{notation}

\begin{note}
	To say \(V\) is differentiable means that for any differentiable function \(f\) on \(\mathcal{M} \), the function \(t \mapsto V(t) f\) is a differentiable function on \(I\).
\end{note}

\begin{eg}[Velocity field]
	The \hyperref[def:vector-field-along-curve]{vector field along \(c\)} \(\mathrm{d} c / \mathrm{d} t \coloneqq \mathrm{d} c (\mathrm{d} / \mathrm{d} t)\) is called the \emph{velocity field} or \emph{tangent vector field}.
\end{eg}

\begin{remark}
	A \hyperref[def:vector-field-along-curve]{vector field along \(c\)} can't necessarily be extended to a \hyperref[def:vector-field]{vector field} on an open set of \(\mathcal{M} \).
\end{remark}

\begin{notation}[Segment]
	The restriction of a \hyperref[def:curve]{curve} \(c\) to a closed interval \([a, b] \subseteq I\) is called a \emph{segment}.
\end{notation}

\subsection{Lengths and Energies}
We're interested in the following two quantities.

\begin{definition*}
	Let \(\gamma \colon [a, b] \to \mathcal{M} \) be a \hyperref[def:curve]{curve} on a \hyperref[def:Riemannian-manifold]{Riemannian manifold} \((\mathcal{M} , g)\).

	\begin{definition}[Length]\label{def:length}
		The \emph{length} of \(\gamma \) is defined as
		\[
			L(\gamma ) \coloneqq \int_{a}^{b} \left\lVert \frac{\mathrm{d}\gamma }{\mathrm{d}t} (t) \right\rVert \,\mathrm{d}t .
		\]
	\end{definition}

	\begin{definition}[Energy]\label{def:energy}
		The \emph{energy} of \(\gamma \) is defined as
		\[
			E(\gamma )\coloneqq \frac{1}{2} \int_{a}^{b} \left\lVert \frac{\mathrm{d}\gamma }{\mathrm{d}t} (t) \right\rVert ^2 \,\mathrm{d}t .
		\]
	\end{definition}
\end{definition*}

We now want to compute \(L(\gamma )\), \(E(\gamma )\) in \hyperref[def:coordinate-chart]{local coordinates}. Let the \hyperref[def:coordinate-chart]{local coordinates} be
\[
	(x^1(\gamma (t)), \dots , x^d(\gamma (t))),
\]
we write
\[
	\dot{x}^i (t) = \frac{\mathrm{d}}{\mathrm{d}t} (x^i (\gamma (t))).
\]
Then, we have
\[
	L(\gamma ) = \int_{a}^{b} \sqrt{g_{ij} (x(\gamma (t))) \dot{x}^i(t)\dot{x}^j(t)} \,\mathrm{d}t, \quad
	E(\gamma ) = \frac{1}{2} \int_{a}^{b} g_{ij} (x(\gamma (t))) \dot{x}^i(t)\dot{x}^j(t) \,\mathrm{d}t.
\]

\begin{definition}[Distance]\label{def:distance}
	Given a \hyperref[def:Riemannian-manifold]{Riemannian manifold} \((\mathcal{M} , g)\), the \emph{distance} between \(2\) points \(p, q\in \mathcal{M} \) is defined as
	\[
		d(p, q)\coloneqq \inf \left\{ L(\gamma ) \mid \gamma \colon [a, b]\to \mathcal{M} \text{ piecewise \hyperref[def:curve]{curve} with }\gamma (a)=p, \gamma (b)=q \right\} .
	\]
\end{definition}

\begin{note}
	Any \(2\) points \(p, q\in \mathcal{M} \) can be connected by a piecewise \hyperref[def:curve]{curve}, hence \(d(p, q)\) always exists.
\end{note}

\begin{corollary}
	The topology of \(\mathcal{M} \) induced by the \hyperref[def:distance]{distance function} \(d\) coincides with the original manifold topology of \(\mathcal{M} \).
\end{corollary}

\begin{lemma}
	If \(\gamma\colon [a, b] \to \mathcal{M} \) is a \hyperref[def:curve]{curve}, and \(\psi \colon [\alpha , \beta ] \to [a, b]\) is a reparametrization, then \(L(\gamma \circ \psi ) = L(\gamma )\).
\end{lemma}
\begin{proof}
	This can be proved by computation, and the take-away is that the \hyperref[def:length]{length functional} is invariant under parameter changes.
\end{proof}

\subsection{Geodesic Equations as Euler-Lagrange Equations}
We want to find a \hyperref[def:curve]{curve} which minimizes the \hyperref[def:length]{length} between sufficiently close two points. It turns out that instead of working with \hyperref[def:length]{length} directly, we should work with \hyperref[def:energy]{energy} instead.

\begin{notation}
	Let's first fix some common notations.

	\begin{enumerate}[(a)]
		\item \(\left( g^{ij} \right) _{i, j=1, \dots , d} = \left( g_{ij} \right)_{i, j = 1, \dots , d} ^{-1} \).\footnote{Technically, \(g^{-1} \) is not an inverse: \(g\) is a \hyperref[def:tensor-field]{\((0, 2)\)-tensor field}, while \(g^{-1} \) is a \hyperref[def:tensor-field]{\((2, 0)\)-tensor field}.}
		\item \(g_{j \ell , k} \coloneqq \frac{\partial }{\partial x^k} g_{j \ell }\).
	\end{enumerate}
\end{notation}

\begin{note}
	In the above notations, we have \(g^{i \ell} g_{\ell j}=\delta ^i_j \).
\end{note}

And the following is particularly important.

\begin{notation}[Christoffel symbol]\label{not:Christoffel-symbol}
	The \emph{Christoffel symbol} is defined for all \(i\) as
	\[
		\Gamma ^i_{jk} \coloneqq \frac{1}{2}g^{i \ell }\left( g_{j \ell , k} + g_{k \ell , j} - g_{jk, \ell }\right).
	\]
\end{notation}

\begin{remark}
	The notion of \(\Gamma \) is a bit cryptic at first, and we will come back to this after. Now, just treat it as a calculation tool.
\end{remark}

The up-shot is that the \href{https://en.wikipedia.org/wiki/Euler%E2%80%93Lagrange_equation}{Euler-Lagrange equations} for the \hyperref[def:energy]{energy} \(E\) has a nice form, and the solution of which has exactly the properties we want, hence we define it as \hyperref[def:geodesic]{geodesics}. 

\begin{proposition}\label{prop:Euler-Lagrange-eq-geodesic}
	The \href{https://en.wikipedia.org/wiki/Euler-Lagrange_equation}{Euler-Lagrange equations} for the \hyperref[def:energy]{energy} \(E\) are
	\begin{equation}\label{eq:geodesic}
		\ddot{x}^i(t) + \Gamma ^{i}_{jk}(x(t)) \dot{x}^j(t)\dot{x}^k(t) = 0 \text{ for } i = 1, \dots , d.
	\end{equation}
\end{proposition}
\begin{proof}
	The \href{https://en.wikipedia.org/wiki/Euler-Lagrange_equation}{Euler-Lagrange equations} of a functional\footnote{The Lagrangian is \(\mathcal{L} = \frac{1}{2} g_{jk} \dot{x}^j \dot{x} ^k\).}
	\[
		I(x) = \int_{a}^{b} f(t, x(t), \dot{x}(t)) \,\mathrm{d}t
	\]
	are
	\[
		\frac{\mathrm{d}}{\mathrm{d}t} \frac{\partial f}{\partial \dot{x}^i} - \frac{\partial f}{\partial x^i} = 0
	\]
	for \(i = 1, \dots , d\). Just by plugging in, we obtain for \(E\), we have
	\[
		\frac{\mathrm{d}}{\mathrm{d}t} \left( g_{ik} (x(t)) \dot{x}^k (t) + g_{ji}(x(t))\dot{x}^j(t) \right) - g_{jk, i}(x(t))\dot{x}^j(t)\dot{x}^k(t) = 0
	\]
	for \(i = 1, \dots , d\). Hence,
	\[
		g_{ik} \ddot{x}^k + g_{ji}\ddot{x}^j + g_{ik, \ell }\dot{x}^{\ell }\dot{x}^k + g_{ji, \ell }\dot{x}^{\ell}\dot{x}^j - g_{jk, i} \dot{x}^{\ell } \dot{x}^j = 0
	\]
	Rename some indices and use \(g_{ij} = g_{ji} \), we have that
	\[
		2g_{\ell m}\ddot{x}^m + \left( g_{k \ell , j}+ g_{j \ell , k} - g_{jk, \ell} \right) \dot{x}^j \dot{x}^k = 0
	\]
	for \(\ell = 1, \dots , d\). Hence, we have
	\[
		g^{i \ell }g_{\ell m}\ddot{x}^m + \frac{1}{2} g^{i \ell } \left( g_{\ell k, j} + g_{j \ell , k} - g_{jk, \ell } \right) \dot{x}^j \dot{x}^k = 0
	\]
	for \(i = 1, \dots , d\). Finally, observe that \(g^{i \ell } g_{\ell m} = \delta _{im}\), i.e., \(g^{i \ell } g_{\ell m} \ddot{x}^m = \ddot{x}^i\), hence the claim follows.
\end{proof}

Finally, we define the \hyperref[def:geodesic]{geodesics} as the solution of \autoref{eq:geodesic}.

\begin{definition}[Geodesic]\label{def:geodesic}
	A \hyperref[def:curve]{curve} \(\gamma \colon [a, b] \to \mathcal{M} \) that obeys \autoref{eq:geodesic} is called a \emph{geodesic}.
\end{definition}

\begin{intuition}
	\hyperref[def:geodesic]{Geodesic} is the critical points of \hyperref[def:energy]{energy}.\footnote{In fact, we can also start from \hyperref[def:length]{length} and get the same thing, which might be more natural.}
\end{intuition}

\subsection{Variation of Energies}
We now discuss why \hyperref[def:geodesic]{geodesic} is well-defined, i.e., we want to show that \autoref{eq:geodesic} has a unique solution. We solve this via the variational principal, and we first define the \hyperref[def:action-functional]{action functional}.

\begin{definition}[Action functional]\label{def:action-functional}
	Let \(\mathcal{L} \) be the Lagrangian, then the \emph{action functional}
	\[
		I[w(\cdot)] \coloneqq \int_{0}^{t} \mathcal{L} (\dot{w}(s), w(s)) \,\mathrm{d}s
	\]
	is defined for functions \(w(\cdot) = (w^1(\cdot), \dots w^n(\cdot))\) of the admissible class
	\[
		\mathcal{A} =\left\{ w(\cdot)\in C^2([0, t]; \mathbb{R} ^n) \mid w(0)= y, w(t)= x\right\}.
	\]
\end{definition}

\begin{eg}
	Both \hyperref[def:length]{length} and \hyperref[def:energy]{energy} are \hyperref[def:action-functional]{action functionals}.
\end{eg}

From the calculus of variation, we can find a \hyperref[def:curve]{curve} \(x(\cdot)\in \mathcal{A} \) such that \(I[x(\cdot)] = \min _{w(\cdot)\in \mathcal{A} }I[w(\cdot)]\).

\begin{theorem}[Euler-Lagrangian equations]\label{thm:Euler-Lagrangian-eq}
	The solution \(x(\cdot)\) from \(I[x(\cdot)] = \min _{w(\cdot)\in \mathcal{A} }I[w(\cdot)]\) solves the system of \href{https://en.wikipedia.org/wiki/Euler-Lagrange_equation}{Euler-Lagrangian equations}
	\[
		\frac{\mathrm{d}}{\mathrm{d}s} \left( D_{\dot{x}} \mathcal{L} (\dot{x}(s), x(s)) + D_x \mathcal{L} (\dot{x}(s), x(s)) \right) = 0
	\]
	for \(0 \leq s \leq t\).
\end{theorem}