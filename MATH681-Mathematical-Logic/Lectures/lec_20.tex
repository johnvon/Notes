\lecture{20}{21 Mar. 14:30}{Fraïssé Theorem}
\subsection{Other Examples of Quantifier Elimination}
\begin{prev}
	\(\ACF\), \(\DLO\), and also the \hyperref[def:random-graph-theory]{random graph theory}.\footnote{This is very similar to the argument we gave for \(\DLO\).}
\end{prev}

We discuss some other examples of \hyperref[def:theory]{theories} which admit \hyperref[def:quantifier-elimination]{quantifier elimination}.

\subsubsection{Vector Spaces}
On the problem set, we will show that the \hyperref[def:theory]{theory} of infinite (dimensional) vector spaces admits \hyperref[def:quantifier-elimination]{quantifier elimination} and is \hyperref[def:strongly-minimal]{strongly minimal}.

\subsubsection{Torsion-Free Abelian Groups}
\begin{prev}[Torsion-free]\label{prev:torsion-free}
	An Abelian group \(G\) is said to be \emph{torsion-free} if no element other than \(e\) has finite order.
\end{prev}

\begin{definition}[Divisible]\label{def:divisible}
	A \hyperref[prev:torsion-free]{torsion-free} group \(G\) is \emph{divisible} if for every \(n\in \mathbb{N} \) and \(g\in G\), there is \(h\in G\) such that
	\[
		nh = \underbrace{h+\ldots +h}_{n\text{ times} } = g.
	\]
\end{definition}

Since \(G\) is \hyperref[prev:torsion-free]{torsion-free}, for each \(g\), the corresponding \(h\) is unique.\footnote{As if \(nh = g = nh^{\prime} \), then \(n(h - h^{\prime} ) = 0\) so \(h = h^{\prime} \).} The \hyperref[def:theory]{theory} \(\mathrm{DAG} \) of \hyperref[prev:torsion-free]{torsion-free} \hyperref[def:divisible]{divisible} Abelian groups (i.e., \(\mathbb{Q} \)-vector spaces in \hyperref[def:language]{language} \(\left\{ +, 0, - \right\} \)) admits \hyperref[def:quantifier-elimination]{quantifier elimination}.

\subsubsection{Ordered Torsion-Free Divisible Abelian Groups}
On top of \(\mathrm{DAG} \), if we also add an ordering, we get \(\mathrm{ODAG} \), the \hyperref[def:theory]{theory} of ordered \hyperref[prev:torsion-free]{torsion-free} \hyperref[def:divisible]{divisible} Abelian groups, which also admits \hyperref[def:quantifier-elimination]{quantifier elimination}.

\subsubsection{Presburger Arithmetic}
Presburger arithmetic is \(\mathop{\mathrm{Th}}(\mathbb{N} , 0, 1, +)\).

\subsubsection{Real Closed Fields}
\begin{prev}[Real-closed field]\label{prev:real-closed-field}
	A \emph{real-closed field} is a field \(F\) that has the same first-order properties as the field of real numbers.
\end{prev}

The \hyperref[def:theory]{theory} of \hyperref[prev:real-closed-field]{real-closed fields}, denoted as \(\mathrm{RCF}\), does not admit \hyperref[def:quantifier-elimination]{quantifier elimination} in the \hyperref[def:language]{language} \(\mathcal{L} = \left\{ 0, 1, +, -, \cdot \right\} \). This is because the \hyperref[def:formula]{formula}
\[
	\varphi (x, y) = \exists x\ x-y=z^2
\]
is not equivalent to a \hyperref[not:quantifier-free]{quantifier-free} \hyperref[def:formula]{formula}.

\begin{intuition}
	This \hyperref[def:formula]{formula} is defining the ordering of the field.
\end{intuition}

\begin{claim}
	\(\varphi (x, y) = \exists z\ x-y=z^{2} \) is not equivalent to a \hyperref[not:quantifier-free]{quantifier-free} \hyperref[def:formula]{formula} in \(\mathcal{L} =\left\{ 0, 1, +, -, \cdot \right\} \).
\end{claim}
\begin{explanation}
	The first way one might try to prove this is to show that there are \hyperref[prev:real-closed-field]{real-closed fields} \(\mathcal{M} \subseteq \mathcal{N} \) and \(a, b\in \mathcal{N} \) such that \(\mathcal{N} \models \varphi (a, b)\) but \(\mathcal{M} \models \lnot \varphi (a, b)\). But this strategy will not work, since \(\varphi (x, y)\) is also equivalent, in any \hyperref[prev:real-closed-field]{real-closed field}, to the \hyperref[not:universal]{universal} \hyperref[def:formula]{formula} \(\forall z\ y-x\neq z^{2} \). This is because only one of \(x - y\) and \(y - z\) can have a square root in a \hyperref[prev:real-closed-field]{real-closed field}. Instead, one should think about the test for \hyperref[def:quantifier-elimination]{quantifier elimination}.

	\begin{proposition}
		There is no \hyperref[not:quantifier-free]{quantifier-free} \hyperref[def:formula]{formula} \(\psi (x,y)\) such that \(\mathrm{RCF}\) proves that \(\psi (x, y)\) and \(\varphi (x, y)\) are equivalent.
	\end{proposition}
\end{explanation}

But if we add in the ordering as a symbol in the \hyperref[def:language]{language}, then in the \hyperref[def:language]{language} \(\mathcal{L} _<\), the \hyperref[def:theory]{theory} \(\mathop{\mathrm{Th}}(\mathbb{R} , 0, 1, +, -, \cdot, <)\) of \hyperref[prev:real-closed-field]{real-closed} ordered fields does admit \hyperref[def:quantifier-elimination]{quantifier elimination}. This was shown by Tarski in the 1940s as part of showing that the \hyperref[def:theory]{theory} of \(\mathbb{R} \) is \hyperref[def:decidable]{decidable}.

\begin{eg}
	An example of eliminating quantifiers from a \hyperref[def:formula]{formula} that we already know is
	\[
		\mathrm{RCF} \models \exists x\ (a \neq 0\land ax^2 + bx + c = 0) \leftrightarrow a\neq 0 \land b^2 - 4ac \geq 0.
	\]
\end{eg}

After proving \hyperref[def:quantifier-elimination]{quantifier elimination}, we can analyze the \hyperref[def:definable]{definable} sets like we did for \hyperref[def:algebraically-closed]{algebraically closed} fields.

\begin{remark}[\(o\)-minimal]
	The \hyperref[def:theory]{theory} of \hyperref[prev:real-closed-field]{real-closed fields} is not \hyperref[def:strongly-minimal]{strongly minimal}, but instead what is called \emph{\(o\)-minimal}.\footnote{There is a well-developed theory of \(o\)-minimality which would be an entire course in itself.}
\end{remark}
\begin{explanation}
	The \hyperref[def:definable]{definable} sets in one variable are finite unions of intervals and points.
\end{explanation}

\begin{remark}
	Tarski-Seidenberg algorithm can solve all Euclidean geometry problems.
\end{remark}

\section{Ultrapowers}
\begin{intuition}
	Fraïssé theorem. Idea is that to build ``universal'' countable \hyperref[def:structure]{structures} with ``all possible finitary behaviors''.
\end{intuition}

Assume (for now) \(\mathcal{L} \) is relational.

\begin{definition}[Age]\label{def:age}
	For an \hyperref[def:structure]{\(\mathcal{L} \)-structure} \(\mathcal{M} \), its \emph{age} is the class \(\Age(\mathcal{M} )\) of all finite \hyperref[def:substructure]{\(\mathcal{L} \)-substructure} which extend into \(\mathcal{M} \).
\end{definition}

\begin{definition}[Hereditary property]\label{def:HP}
	A class \(\mathbb{K} \) of finite \hyperref[def:structure]{\(\mathcal{L} \)-structure} has the \emph{hereditary property} if for all \(\mathcal{B} \in \mathbb{K} \) and \(\mathcal{A} \) which extends into \(\mathcal{B} \), \(\mathcal{A} \in \mathbb{K} \).
\end{definition}

\begin{intuition}
	If it's downward-closed under \hyperref[def:embedding]{embedding}.
\end{intuition}

\begin{definition}[Joint embedding property]\label{def:JEP}
	A class \(\mathbb{K} \) of finite \hyperref[def:structure]{\(\mathcal{L} \)-structure} has the \emph{joint embedding property} if for all \(\mathcal{A} , \mathcal{B} \in \mathbb{K} \), there exists \(\mathcal{C} \in \mathbb{K}\) with \hyperref[def:embedding]{embeddings} \(\mathcal{A} \hookrightarrow \mathcal{C} \hookleftarrow \mathcal{B}\):
	% https://q.uiver.app/?q=WzAsMyxbMCwxLCJcXG1hdGhjYWx7QX0iXSxbMiwxLCJcXG1hdGhjYWx7Qn0iXSxbMSwwLCJcXG1hdGhjYWx7Q30iXSxbMCwyLCIiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMSwyLCIiLDIseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
	\[\begin{tikzcd}
			& {\mathcal{C}} \\
			{\mathcal{A}} && {\mathcal{B}}
			\arrow[dashed, from=2-1, to=1-2]
			\arrow[dashed, from=2-3, to=1-2]
		\end{tikzcd}\]
\end{definition}

\begin{theorem}[Baby Fraïssé theorem]\label{thm:baby-Fraisse}
	A class \(\mathbb{K} \) of finite \hyperref[def:structure]{\(\mathcal{L} \)-structure} is \(\Age(\mathcal{M} )\) for some countable \(\mathcal{M} \) if and only if
	\begin{itemize}
		\item \(\mathbb{K} \) is countable up to \hyperref[def:isomorphism]{isomorphism};
		\item \(\mathbb{K} \neq \varnothing \);
		\item \(\mathbb{K} \) has the \hyperref[def:HP]{hereditary property};
		\item \(\mathbb{K} \) has the \hyperref[def:JEP]{joint embedding property}.
	\end{itemize}
\end{theorem}
\begin{proof}
	The forward direction is clear. For the backward direction, let \(\mathbb{K} = \left\{ \mathcal{A} _0, \mathcal{A} _1, \ldots  \right\} \), we construct \(\mathcal{M} _0 \subseteq \mathcal{M} _1 \subseteq \mathcal{M} _2 \subseteq \ldots \) inductively as follows:
	\begin{itemize}
		\item \(\mathcal{M} _0 \coloneqq \mathcal{A} \).
		\item \(\mathcal{M} _{n+1}\) is chosen from \(\mathbb{K} \) using \hyperref[def:JEP]{joint embedding property} such that \(\mathcal{M} _n \hookrightarrow \mathcal{M} _{n+1} \hookleftarrow \mathcal{A} _{n+1}\).
		      % https://q.uiver.app/?q=WzAsMTAsWzEsMCwiXFx7XFxtYXRoY2Fse0F9XzAsIl0sWzIsMCwiXFxtYXRoY2Fse0F9XzEsIl0sWzMsMCwiXFxtYXRoY2Fse0F9XzIsIl0sWzQsMCwiXFxsZG90c1xcfSJdLFswLDAsIlxcbWF0aGJie0t9PSJdLFsyLDEsIlxcbWF0aGNhbHtNfV8xIl0sWzMsMSwiXFxtYXRoY2Fse019XzIiXSxbNCwxLCJcXG1hdGhjYWx7TX1fMyJdLFs1LDEsIlxcbGRvdHMiXSxbNiwxLCJcXG1hdGhjYWx7TX1cXGNvbG9uZXFxIFxcYmlnY3VwX24gXFxtYXRoY2Fse019X24iXSxbMCw1LCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9LCJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNSw2LCIiLDIseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9LCJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNiw3LCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9LCJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNyw4LCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9LCJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbOCw5LCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9LCJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMSw2LCIiLDIseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9LCJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMiw3LCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9LCJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
		      \[\begin{tikzcd}
				      {\mathbb{K}=} & {\{\mathcal{A}_0,} & {\mathcal{A}_1,} & {\mathcal{A}_2,} & {\ldots\}} \\
				      && {\mathcal{M}_1} & {\mathcal{M}_2} & {\mathcal{M}_3} & \ldots & {\mathcal{M}\coloneqq \bigcup_n \mathcal{M}_n}
				      \arrow[dashed, hook, from=1-2, to=2-3]
				      \arrow[dashed, hook, from=2-3, to=2-4]
				      \arrow[dashed, hook, from=2-4, to=2-5]
				      \arrow[dashed, hook, from=2-5, to=2-6]
				      \arrow[dashed, hook, from=2-6, to=2-7]
				      \arrow[dashed, hook, from=1-3, to=2-4]
				      \arrow[dashed, hook, from=1-4, to=2-5]
			      \end{tikzcd}\]
		      Let \(\mathcal{M} \coloneqq \bigcup_{n} \mathcal{M} _n\). Then,
		      \begin{itemize}
			      \item \(\mathbb{K} \subseteq \Age(\mathcal{M} )\): because each \(\mathcal{A} _n \in \mathcal{K} \).is embedded into \(\mathcal{M} _n \subseteq \mathcal{M} \), so \(\mathcal{A} _n\) is embedded into \(\mathcal{M} \);
			      \item \(\Age(\mathcal{M} ) \subseteq \mathbb{K} \): for a finite subset \(\mathcal{N} \subseteq \mathcal{M} \), we have \(\mathcal{N} \subseteq \mathcal{M} _n\) for some \(n\), so by \hyperref[def:HP]{hereditary property}, \(\mathcal{M} _n \in \mathbb{K} \), hence \(\mathcal{N} \in \mathbb{K} \).
		      \end{itemize}
	\end{itemize}
\end{proof}

\begin{eg}
	\(\Age(\mathbb{Q} , <) = \Age(\mathbb{N} , <) = \Age(\mathbb{Z} , <) = \left\{ \text{ all finite linear orders}  \right\}\).
\end{eg}

\begin{eg}
	\(\Age(\text{\hyperref[def:random-graph-theory]{random graph theory}}) = \left\{ \text{all finite graphs}  \right\} = \Age(\coprod \left\{ \text{finite graphs} \right\})\).
	\begin{center}
		\incfig{disjoint-union-finite-graphs}
	\end{center}
\end{eg}

\begin{definition}[Ultrahomogeneous]\label{def:ultrahomogeneous}
	A countable \hyperref[def:structure]{structure} \(\mathcal{M} \) is \emph{ultrahomogeneous} if for any finite subsets \(\mathcal{A} , \mathcal{B} \subseteq \mathcal{M} \) and \hyperref[def:isomorphism]{isomorphism} \(g \colon \mathcal{A} \cong \mathcal{B} \), then is an \hyperref[def:automorphism]{automorphism} \(\widetilde{g} \colon \mathcal{M} \cong \mathcal{M} \) extending \(g\).
	% https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXG1hdGhjYWx7QX0iXSxbMSwwLCJcXG1hdGhjYWx7Qn0iXSxbMCwxLCJcXG1hdGhjYWx7TX0iXSxbMSwxLCJcXG1hdGhjYWx7TX0iXSxbMCwxLCJnIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifSwiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzIsMywiXFx3aWRldGlsZGV7Z30iLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9LCJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifSwiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzAsMiwiIiwxLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMSwzLCIiLDEseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dXQ==
	\[\begin{tikzcd}
			{\mathcal{A}} & {\mathcal{B}} \\
			{\mathcal{M}} & {\mathcal{M}}
			\arrow["g", hook, two heads, from=1-1, to=1-2]
			\arrow["{\widetilde{g}}", dashed, hook, two heads, from=2-1, to=2-2]
			\arrow[hook, from=1-1, to=2-1]
			\arrow[hook, from=1-2, to=2-2]
		\end{tikzcd}\]
\end{definition}

\begin{definition}[Amalgamation property]\label{def:AP}
	A class \(\mathbb{K} \) of finite \hyperref[def:structure]{\(\mathcal{L} \)-structure} has the \emph{amalgamation property} if for all \(\mathcal{A}, \mathcal{B} , \mathcal{C} \in \mathbb{K}\) such that
	% https://q.uiver.app/?q=WzAsMyxbMCwxLCJcXG1hdGhjYWx7QX0iXSxbMSwwLCJcXG1hdGhjYWx7Qn0iXSxbMSwyLCJcXG1hdGhjYWx7Q30iXSxbMCwxLCJmIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMCwyLCJnIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XV0=
	\(\begin{tikzcd}
		& {\mathcal{B}} \\
		{\mathcal{A}} \\
		& {\mathcal{C}}
		\arrow["f", hook, from=2-1, to=1-2]
		\arrow["g"', hook, from=2-1, to=3-2]
	\end{tikzcd}\), there exists \(\mathcal{D}  \in \mathcal{K} \) such that
	% https://q.uiver.app/?q=WzAsMyxbMCwwLCJcXG1hdGhjYWx7Qn0iXSxbMCwyLCJcXG1hdGhjYWx7Q30iXSxbMSwxLCJcXG1hdGhjYWx7RH0iXSxbMCwyLCJcXHdpZGV0aWxkZXtmfSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFsxLDIsIlxcd2lkZXRpbGRle2d9IiwyLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
	\(\begin{tikzcd}
		{\mathcal{B}} \\
		& {\mathcal{D}} \\
		{\mathcal{C}}
		\arrow["{\widetilde{f}}", dashed, from=1-1, to=2-2]
		\arrow["{\widetilde{g}}"', dashed, from=3-1, to=2-2]
	\end{tikzcd}\) such that \(\widetilde{f} \circ f = \widetilde{g} \circ g\), i.e., the following diagram commutes:
	% https://q.uiver.app/?q=WzAsNCxbMSwwLCJcXG1hdGhjYWx7Qn0iXSxbMSwyLCJcXG1hdGhjYWx7Q30iXSxbMiwxLCJcXG1hdGhjYWx7RH0iXSxbMCwxLCJcXG1hdGhjYWx7QX0iXSxbMywwLCJmIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMCwyLCJcXHdpZGV0aWxkZXtmfSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFszLDEsImciLDIseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6ImJvdHRvbSJ9fX1dLFsxLDIsIlxcd2lkZXRpbGRle2d9IiwyLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
	\[\begin{tikzcd}
			& {\mathcal{B}} \\
			{\mathcal{A}} && {\mathcal{D}} \\
			& {\mathcal{C}}
			\arrow["f", hook, from=2-1, to=1-2]
			\arrow["{\widetilde{f}}", dashed, from=1-2, to=2-3]
			\arrow["g"', hook', from=2-1, to=3-2]
			\arrow["{\widetilde{g}}"', dashed, from=3-2, to=2-3]
		\end{tikzcd}\]
\end{definition}

\begin{intuition}
	We can ``glue'' \(\mathcal{B} \) and \(\mathcal{C} \) along their ``common part'' \(\mathcal{A} \) to get \(\mathcal{D} \).
\end{intuition}

\begin{definition}[Extension property]\label{def:EP}
	A countable \hyperref[def:structure]{structure} \(\mathcal{M} \) has the \emph{extension property} w.r.t.\ a class \(\mathbb{K} \) of (finite) \hyperref[def:structure]{structure} if for all \(\mathcal{A} , \mathcal{B} \in \mathbb{K} \) and \(f\colon \mathcal{A} \to \mathcal{M} \) and \(g\colon \mathcal{A} \hookrightarrow \mathcal{B} \), there exists \(h \colon \mathcal{B} \hookrightarrow \mathcal{M} \) such that \(h \circ g = f\).
	% https://q.uiver.app/?q=WzAsMyxbMCwwLCJcXG1hdGhjYWx7QX0iXSxbMiwwLCJcXG1hdGhjYWx7Qn0iXSxbMSwxLCJcXG1hdGhjYWx7TX0iXSxbMCwxLCJnIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMSwyLCJoIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzAsMiwiZiIsMix7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoiYm90dG9tIn19fV1d
	\[\begin{tikzcd}
			{\mathcal{A}} && {\mathcal{B}} \\
			& {\mathcal{M}}
			\arrow["g", hook, from=1-1, to=1-3]
			\arrow["h", dashed, from=1-3, to=2-2]
			\arrow["f"', hook', from=1-1, to=2-2]
		\end{tikzcd}\]
\end{definition}

\begin{intuition}
	This is a direct generalization of \hyperref[def:random-graph-theory]{random graph theory}, especially the \hyperref[int:extension-axiom]{extension axiom} (as the name suggests).
\end{intuition}

\begin{note}
	\(\mathcal{M} \) \hyperref[def:ultrahomogeneous]{ultrahomogeneous} implies \(\mathcal{M} \) has \hyperref[def:EP]{extension property} w.r.t.\ \(\Age(\mathcal{M} )\).\footnote{In homework, we will show the converse. More generally, \(\mathcal{M} \) has \hyperref[def:EP]{extension property} w.r.t.\ \(\Age(\mathcal{N} )\) implies \(\mathcal{N} \) \hyperref[def:embedding]{embeds} into \(\mathcal{M} \), so \(\mathcal{M} \) is a \hyperref[def:Fraisse-limit]{Fraisse limit}, hence \(\Age(\mathcal{N} ) \subseteq \Age(\mathcal{M} )\implies \mathcal{N} \hookleftarrow \mathcal{M} \).}
\end{note}
\begin{explanation}
	Without loss of generality, let \(\mathcal{A} , \mathcal{B} \subseteq \mathcal{M} \) and \(f\) is the inclusion, we have
	% https://q.uiver.app/?q=WzAsNSxbMCwwLCJcXG1hdGhjYWx7QX0iXSxbMiwwLCJcXG1hdGhjYWx7Qn0iXSxbMiwxLCJcXG1hdGhjYWx7TX0iXSxbMCwxLCJcXG1hdGhjYWx7TX0iXSxbMSwwLCJcXGltKGcpIl0sWzMsMiwiXFxleGlzdHMgXFx3aWRldGlsZGV7Z30iLDIseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMSwyLCIiLDIseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6ImJvdHRvbSJ9fX1dLFswLDMsIiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzAsNCwiZyIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn0sImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFs0LDEsIiIsMSx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzEsMywiaCIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
	\[\begin{tikzcd}
			{\mathcal{A}} & {\im(g)} & {\mathcal{B}} \\
			{\mathcal{M}} && {\mathcal{M}}
			\arrow["{\exists \widetilde{g}}"', dashed, from=2-1, to=2-3]
			\arrow[hook', from=1-3, to=2-3]
			\arrow[hook, from=1-1, to=2-1]
			\arrow["g", hook, two heads, from=1-1, to=1-2]
			\arrow[hook, from=1-2, to=1-3]
			\arrow["h"', dashed, from=1-3, to=2-1]
		\end{tikzcd}\]
	where \(h \coloneqq \at{\widetilde{g} ^{-1} }{\mathcal{B} }{} \).
\end{explanation}

We now show the generalized version of \hyperref[thm:baby-Fraisse]{baby Fraïssé theorem}.

\begin{theorem}[Fraïssé theorem]\label{thm:Fraisse}
	A class \(\mathbb{K} \) of finite \hyperref[def:structure]{\(\mathcal{L} \)-structure} is \(\Age(\mathcal{M} )\) for an \hyperref[def:ultrahomogeneous]{ultrahomogeneous} countable \(\mathcal{M} \) if and only if
	\begin{itemize}
		\item \(\mathbb{K} \) is countable up to \hyperref[def:isomorphism]{isomorphism};
		\item \(\mathbb{K} \neq \varnothing \);
		\item \(\mathbb{K} \) has the \hyperref[def:HP]{HP};
		\item \(\mathbb{K} \) has the \hyperref[def:JEP]{JEP};
		\item \(\mathbb{K} \) has the \hyperref[def:AP]{AP}.
	\end{itemize}
	Moreover, in that case, there exists a unique-up-to-\hyperref[def:isomorphism]{isomorphism} countable \hyperref[def:ultrahomogeneous]{ultrahomogeneous} \(\mathcal{M} \) such that \(\Age(\mathcal{M} ) = \mathbb{K} \).
\end{theorem}

\begin{definition}[Fraïssé class]\label{def:Fraisse-class}
	A class \(\mathbb{K} \) with properties in \hyperref[thm:Fraisse]{Fraïssé theorem} is called a \emph{Fraïssé class}.
\end{definition}

\begin{definition}[Fraïssé limit]\label{def:Fraisse-limit}
	The countable \hyperref[def:ultrahomogeneous]{ultrahomogeneous} \(\mathcal{M} \) such that \(\Age(\mathcal{M} )= \mathbb{K} \) is the \emph{Fraïssé limit} of \(\mathbb{K} \), denoted as \(\mathop{\mathrm{Flm}}(\mathbb{K} ) \).
\end{definition}