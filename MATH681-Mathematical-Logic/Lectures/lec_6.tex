\lecture{6}{24 Jan.\ 11:30}{Soundness Theorem}
To see why \hyperref[def:propositional-axioms]{propositional axioms} are enough to \hyperref[def:proof]{prove} all \hyperref[def:propositional-tautology]{propositional tautologies}, we see one example.

\begin{problem*}\label{prb:lec6}
	\hyperref[def:proof]{Prove} \(\varphi \to \varphi \) using \hyperref[def:propositional-axioms]{propositional axioms}.
\end{problem*}
\begin{answer}
	We see that
	\begin{enumerate}
		\item \(\varphi \to  \big((\psi \to \varphi ) \to \varphi \big)\) from \autoref{A1}, where \(\psi \) is any \hyperref[def:formula]{formula} (possibly \(\psi =\varphi \)).
		\item \(\left[ \varphi \to \big((\psi \to \varphi) \to \varphi \big) \right] \to  \left[ \big(\varphi \to (\psi \to \varphi )\big) \to (\varphi \to \varphi ) \right] \) from \autoref{A2}.
		\item \(\big(\varphi \to (\psi \to \varphi )\big) \to (\varphi \to \varphi )\) from \hyperref[def:rule-of-inference]{(MP)} and the two above.
		\item \(\varphi \to (\psi \to \varphi )\) from \autoref{A1}.
		\item \(\varphi \to \varphi \) from \hyperref[def:rule-of-inference]{(MP)} and the two above.
	\end{enumerate}
\end{answer}

In general, we can \hyperref[def:proof]{prove}
\begin{multicols}{2}
	\begin{enumerate}[(a)]
		\item \(\varphi \to \varphi \);
		\item \(\varphi \to \lnot \lnot \varphi \);
		\item \(\lnot \lnot \varphi \to \varphi \);
		\item \((\varphi \to \psi ) \to  \big((\lnot \varphi \to \psi ) \to \psi \big)\);
		\item \(\varphi \to \big(\psi \to (\varphi \to \psi )\big)\),
	\end{enumerate}
\end{multicols}
and so on.

\begin{note}
	As we said, we may replace \hyperref[def:propositional-axioms]{propositional axioms} by every \hyperref[def:propositional-tautology]{propositional tautologies}.
\end{note}

Some \hyperref[def:proof]{proof} system also have a second rule about universal quantifiers, but in our system, we have built this into the axioms. We can prove, as a theorem, what the other proof systems take as a rule.

\begin{theorem}
	If \(\Gamma \vdash \varphi \), and \(x\) does not occur \hyperref[def:free-variable]{freely} in \(\Gamma \), then \(\Gamma \vdash \forall x\ \varphi \).
\end{theorem}
\begin{proof}
	Fix \(\Gamma \) and \(x\), we use \emph{induction on proofs}. Consider the set \(\left\{ \varphi \mid \Gamma \vdash \forall x\ \varphi \right\} \), we will show that this set contains all the \hyperref[def:logical-axioms]{logical axioms}, \hyperref[def:formula]{formulas} from \(\Gamma \), and is closed under \hyperref[def:rule-of-inference]{modus ponens}.\footnote{Thus, if \(\Gamma \vdash \theta \), then \(\theta \in \left\{ \varphi \mid \Gamma \vdash \forall x\ \varphi \right\} \).}
	\begin{enumerate}[(a)]
		\item If \(\varphi \) is a \hyperref[def:logical-axioms]{logical axiom}, so is its \hyperref[def:generalization]{generalization} \(\forall x\ \varphi \), so \(\Gamma \vdash \forall x\ \varphi \).
		\item If \(\varphi \in \Gamma \), then \(x\) is not \hyperref[def:free-variable]{free} in \(\varphi \), so from \autoref{A6}, \(\varphi \to \forall x\ \varphi \), and from  \hyperref[def:rule-of-inference]{(MP)}, \(\forall x\ \varphi \). The above are based on \(\Gamma \), hence \(\Gamma \vdash \forall x\ \varphi \).
		\item Suppose \(\Gamma \vdash \forall x\ \varphi \) and \(\Gamma \vdash \forall x\ (\varphi \to \psi )\), we want to show that \(\Gamma \vdash \forall x\ \psi \).
		      \begin{enumerate}[1.]
			      \item By \autoref{A5}, \(\forall x\ (\varphi \to \psi ) \to  (\forall x\ \varphi \to \forall x\ \psi )\), \(\Gamma \) \hyperref[def:proof]{proves} this.
			      \item By \hyperref[def:rule-of-inference]{(MP)}, \(\Gamma \vdash \forall x\ \varphi \to \forall x\ \psi \).
			      \item By \hyperref[def:rule-of-inference]{(MP)} again, \(\Gamma \vdash \forall x\ \psi \).
		      \end{enumerate}
	\end{enumerate}
\end{proof}

\begin{corollary}
	If \(\vdash \varphi \), then \(\vdash \forall x\ \varphi \). So the \hyperref[def:generalization]{generalization} of anything \hyperref[def:valid]{valid} is also \hyperref[def:valid]{valid}.
\end{corollary}

We now ask a critical question: is our \hyperref[def:proof]{proof} system a good one?

\section{Soundness Theorem}
The first thing we should check is whether our \hyperref[def:proof]{proofs} are \hyperref[def:sound]{sound}.

\begin{definition}[Sound]\label{def:sound}
	A \hyperref[def:proof]{proof} system is \emph{sound} if any \hyperref[def:proof]{provable} \hyperref[def:sentence]{sentence} \(\varphi \) is \hyperref[def:truth]{true}.
\end{definition}

The idea is that if an \hyperref[def:sentence]{\(\mathcal{L} \)-sentence} \(\varphi \) is \hyperref[def:proof]{provable}, then it is \hyperref[def:truth]{true} in all \hyperref[def:structure]{\(\mathcal{L} \)-structures}, i.e., every thing we \hyperref[def:proof]{prove} should be \hyperref[def:truth]{true}, in other words, we can't \hyperref[def:proof]{prove} wrong things.

\begin{lemma}[Soundness]\label{lma:soundness}
	If \(\Gamma \) is a set of \hyperref[def:sentence]{\(\mathcal{L} \)-sentences} and \(\varphi \) is a \hyperref[def:sentence]{sentence}, and \(\Gamma \vdash _{\mathcal{L} } \varphi \), then \(\Gamma \models \varphi \).
\end{lemma}
\begin{proof}
	Suppose that \(\Gamma \vdash \varphi \), let \(\psi _1, \psi _2, \dots , \psi _n = \varphi \) be such a \hyperref[def:proof]{proof}.\footnote{Some \(\psi _i\) might be \hyperref[def:formula]{formulas}, but \(\varphi \) should be a \hyperref[def:sentence]{sentence}.} Let \(\overline{x} = (x_1, \dots , x_m)\) be the \hyperref[def:free-variable]{free variable} that appears in the \(\psi _i\). Let \(\mathcal{M} \) be an \hyperref[def:structure]{\(\mathcal{L} \)-structure}, \(\mathcal{M} \models \Gamma \). To show \(\mathcal{M} \models \varphi \), we show that by induction on \(i\), for all \(\overline{a} \in M^m\), \(\mathcal{M} \models \psi _i(\overline{a} )\). For \(\psi _i\), we have three cases.
	\begin{enumerate}[(a)]
		\item If \(\psi _i\in \Gamma \), then \(\mathcal{M} \models \Gamma \) so \(\mathcal{M} \models \psi _i\).
		\item If \(\psi _i\) is a (\hyperref[def:generalization]{generalization} of) a \hyperref[def:logical-axioms]{logical axiom}, then we can check that \(\mathcal{M} \models \psi _i(\overline{a} )\). For example, if \(\psi _i\) is \autoref{A1}, \(\theta \to (\gamma \to \theta )\), it's easy to check that
		      \[
			      \mathcal{M} \models \theta (\overline{a} ) \to  (\gamma (\overline{a} ) \to \theta (\overline{a} )).
		      \]
		\item If there are \(j, k < i\) such that \(\psi _k\) is \(\psi _j \to \psi _i\), from inductive hypothesis, for all \(\overline{a} \), \(\mathcal{M} \models \psi _j(\overline{a} ), \mathcal{M} \models \psi _k(\overline{a} )\), then \(\mathcal{M} \models \psi _j(\overline{a} ) \to \psi _i(\overline{a} )\). Checking our definition of \hyperref[def:truth]{truth}, we get \(\mathcal{M} \models \psi _i(\overline{a} )\).
	\end{enumerate}
\end{proof}

There are remarks to make about some obvious properties of \(\vdash _{\mathcal{L} }\).

\begin{remark}
	If \(\varphi \in \Gamma \), then \(\Gamma \vdash \varphi \).
\end{remark}

\begin{remark}
	If \(\Delta \subseteq \Gamma \), and \(\Delta \vdash \varphi \), then \(\Gamma \vdash \varphi \).
\end{remark}

\begin{remark}
	If \(\Gamma \vdash _{\mathcal{L} } \varphi \), and \(\mathcal{L} ^+ \supseteq \mathcal{L}  \), then \(\Gamma \vdash _{\mathcal{L} ^+} \varphi \).
\end{remark}

\begin{remark}
	If \(\Gamma \vdash \varphi \), then there is a finite \(\Delta \subseteq \Gamma \) such that \(\Delta \vdash \varphi \).
\end{remark}

We can prove the following.

\begin{theorem}[Deduction theorem]\label{thm:deduction}
	For any set of \hyperref[def:formula]{formulas} \(\Gamma \), \hyperref[def:formula]{formulas} \(\theta \) and \(\psi \),
	\[
		\Gamma \cup \left\{ \theta  \right\} \vdash \psi
		\iff \Gamma \vdash \theta \to \psi .
	\]
\end{theorem}
\begin{proof}
	The backward direction is easier. Suppose \(\Gamma \vdash \theta \to \psi \), then \(\Gamma \cup \left\{ \theta \right\} \vdash \psi \) since we can have a \hyperref[def:proof]{proof} like:
	\begin{enumerate}
		\item \(\theta \)
		\item[] \(\vdots\) (the \hyperref[def:proof]{proof} of \(\Gamma \vdash \theta \to \psi \))
		\item[\(n\).] \(\theta \to \psi \)
		\item[\(n+1\).] \(\psi \).
	\end{enumerate}

	Now, suppose that \(\Gamma \cup \left\{ \theta \right\} \vdash \psi \), then there is a \hyperref[def:proof]{proof} \(\psi _1, \dots , \psi _n = \psi \) from \(\Gamma \cup \left\{ \theta \right\} \). We argue inductively that \(\Gamma \vdash \theta \to \psi _i\). For \(i\), we have three cases.
	\begin{enumerate}[(a)]
		\item If \(\psi _i \in \Gamma \) or it is a \hyperref[def:logical-axioms]{logical axiom}. By \autoref{A1}, \(\psi _i \to (\theta \to \psi _i)\), so \(\Gamma \vdash \theta \to \psi _i\).
		\item If \(\psi _i = \theta \). Then \(\Gamma \vdash \theta \to \theta \) by \autoref{A1} and \autoref{A2} from \hyperref[prb:lec6]{here}, hence \(\Gamma \vdash \theta \to \psi _i\).
		\item If \(\psi _i\) follows from \(\psi _j\), \(\psi _k = \psi _j \to \psi _i\), using \hyperref[def:rule-of-inference]{(MP)} with \(j, k < i\).
		      \begin{enumerate}[1.]
			      \item From the induction hypothesis, \(\Gamma \vdash \theta \to \psi _j\) and \(\Gamma \vdash \theta \to (\psi _j \to \psi _i)\).
			      \item By \autoref{A2}, \(\Gamma \vdash \left[ \theta \to (\psi _j \to \psi _i) \right] \to \left[ (\theta \to \psi _j) \to (\theta \to \psi _i) \right] \).
			      \item By \hyperref[def:rule-of-inference]{(MP)}, \(\Gamma \vdash (\theta \to \psi _j) \to (\theta \to \psi _i)\).
			      \item By \hyperref[def:rule-of-inference]{(MP)}, \(\Gamma \vdash \theta \to \psi _i\).
		      \end{enumerate}
	\end{enumerate}
\end{proof}