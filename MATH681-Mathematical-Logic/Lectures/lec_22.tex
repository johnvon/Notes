\lecture{22}{28 Mar. 14:30}{}
\begin{eg}
	\((\mathbb{Q} , <)=\mathop{\mathrm{Flm}}(\text{finite linear orders})\).
\end{eg}

\begin{eg}
	\(\text{\hyperref[def:random-graph]{random graph}} = \mathop{\mathrm{Flm}}(\text{finite graphs}) \).
\end{eg}

\begin{eg}
	\(\text{random \(K_d\) graph} = \mathop{\mathrm{Flm}}(\text{finite \(K_d\)-free graphs}) \).
\end{eg}

\begin{eg}
	Finite square-free graph do not have \hyperref[def:AP]{amalgamation property}.
	\begin{center}
		\incfig{square-free}
	\end{center}
\end{eg}

\begin{eg}
	\(\text{random poset} = \mathop{\mathrm{Flm}}(\text{finite posets})\).
\end{eg}

\begin{eg}
	\(\mathbb{N} = \mathop{\mathrm{Flm}}(\text{finite sets})\).
\end{eg}

\begin{eg}
	\((\mathbb{N} ^2, \sim ) = \mathop{\mathrm{Flm}}(\text{finite sets equipped with equivalence relation})\) where \((a, b)\sim (c, d) \iff a = c\).
\end{eg}

\begin{theorem}\label{thm:lec22}
	Let \(\mathcal{L} \) be a finite relational \hyperref[def:language]{language}. Then every \hyperref[def:ultrahomogeneous]{ultrahomogeneous} \hyperref[def:structure]{\(\mathcal{L} \)-structure} \(\mathop{\mathrm{Th}}(\mathcal{M})\) (i.e., \(\mathcal{M} = \mathop{\mathrm{Flm}}(\Age(\mathcal{M} )) \)) is \hyperref[def:countably-categorical]{countably categorical} and has \hyperref[def:quantifier-elimination]{quantifier elimination}.
\end{theorem}
\begin{proof}
	Let \(\mathbb{K} = \Age(\mathcal{M} )\), then \(\mathcal{N} \cong \mathcal{M} \) if and only if \(\Age(\mathcal{N} ) = \mathbb{K} \) and \(\mathcal{N} \) has \hyperref[def:EP]{extension property} w.r.t.\ \(\mathbb{K} \)\footnote{This implies \(\Age(\mathcal{N} ) = \mathbb{K} \), by \hyperref[def:EP]{extension property} applied to \(\mathcal{N} \hookleftarrow \varnothing \hookrightarrow \mathcal{A} \), hence \(\mathcal{A} \hookrightarrow \mathcal{N} \).} from the \hyperref[thm:Fraisse]{Fraïssé theorem}.

	For each finite \hyperref[def:structure]{\(\mathcal{L} \)-structure} \(\mathcal{A} = \left\{ a_1, \ldots , a_n \right\} \), let \(\phi _\mathcal{A} (x_1, \ldots , x_n)\) be an \hyperref[def:formula]{\(\mathcal{L} \)-formula} such that for all \(\mathcal{N} \), \(\mathcal{N} \models \phi (\overline{b} )\) if and only if \(a_i \mapsto b_i\) is an \hyperref[def:isomorphism]{isomorphism} and \(\mathcal{A} \hookrightarrow \mathcal{N} \). Then take the axioms, we want that \(\forall \overline{x} \ \phi _\mathcal{A} (\overline{x} ) \to \text{``\(\mathcal{A} \in \mathbb{K}\)''}\), but this is not first-order, so we instead consider \(\forall \overline{x} \ \lnot \phi _\mathcal{A} (\overline{x} )\) for each \(\mathcal{A} \notin \mathbb{K} \). Moreover, we consider \(\forall \overline{x} \ \phi _\mathcal{A} (\overline{x} ) \to \exists \overline{y} \ \phi _\mathcal{B} (\overline{x} , \overline{y} )\) for each \(\mathcal{A} , \mathcal{B} \in \mathbb{K} \), for \(\mathcal{A} \subseteq \mathcal{B} \).
\end{proof}

\begin{remark}
	We can also add \(\exists \overline{x} \ \phi _\mathcal{A} (\overline{x} )\) for each \(\mathcal{A} \in \mathbb{K} \) to overcome the fact that we're considering \(\varnothing \) as an \hyperref[def:structure]{\(\mathcal{L} \)-structure}.
\end{remark}

There is also the following theorem, which tells you what \hyperref[def:countably-categorical]{countably categorical} \hyperref[def:model]{models} look like. We will not prove this.

\begin{theorem}[Ryll-Nardzewski theorem]\label{thm:Ryll-Nardzewski}
	A countable \hyperref[def:structure]{structure} \(\mathcal{M} \) has \(\mathop{\mathrm{Th}}(\mathcal{M} )\) \hyperref[def:countably-categorical]{countably categorical} if and only if the following equivalent conditions hold.
	\begin{enumerate}[(i)]
		\item For each \(n\in \mathbb{N} \), there are finitely many \hyperref[def:automorphism]{automorphism} orbits of \(n\)-tuples \(\overline{a} \in M^n\). In other words, the action \(\mathop{\mathrm{Aut}}(\mathcal{M} )\act M^n\) has finitely many orbits.\footnote{We say the action is oligomorphic.}
		\item For each \(n\in \mathbb{N} \), there are only finitely many \hyperref[def:type]{types} of \(n\)-tuples \(\overline{a} \in M^n\).
	\end{enumerate}
\end{theorem}

Now, if we change every ``finite'' to ``\hyperref[def:finitely-generated]{finitely generated}'' so far, we can show the same thing (for, e.g., the \hyperref[thm:Fraisse]{Fraïssé theorem}).\footnote{Though the proofs are slightly different.} However, if we look into the proof of \autoref{thm:lec22}, we see that we really need \(\mathcal{A} \) to be finite, hence we consider the following.

\begin{definition}[Uniformaly locally finite]\label{def:uniformly-locally-finite}
	A class \(\mathbb{K} \) is \emph{uniformly locally finite} if for all \(n\in \mathbb{N} \), there exists \(k\in \mathbb{N} \) such that every \(n\)-\hyperref[def:finitely-generated]{generated} \hyperref[def:structure]{structure} in \(\mathbb{K} \) has size \(\leq k\).
\end{definition}

\begin{eg}
	For a finite field \(F\), an \(F\)-vector space of \(\dim \leq n\) has size \(\leq \vert F \vert ^n\).
\end{eg}

Then, the statement of \autoref{thm:lec22} need to be changed as follows.
\begin{theorem}\label{thm:lec22}
	Let \(\mathcal{L} \) be a finite \hyperref[def:language]{language}. Then every \hyperref[def:ultrahomogeneous]{ultrahomogeneous} \hyperref[def:structure]{\(\mathcal{L} \)-structure} \(\mathop{\mathrm{Th}}(\mathcal{M})\) such that \(\Age(\mathcal{M} )\) is \hyperref[def:uniformly-locally-finite]{uniformly locally finite} is \hyperref[def:countably-categorical]{countably categorical} and has \hyperref[def:quantifier-elimination]{quantifier elimination}.
\end{theorem}

\begin{eg}
	\(F^{\oplus w} = \mathop{\mathrm{Flm}}(\text{finite dimensional \(F\)-vector spaces} ) \) for all countable field \(F\).
\end{eg}

\begin{eg}
	\(\mathbb{F} _p = \mathop{\mathrm{Flm}}(\text{finite \hyperref[def:characteristic]{characteristic} \(p\) fields})\) for prime \(p\).
\end{eg}

\begin{prev}[Boolean algebra]

\end{prev}

\begin{eg}
	Consider \(f\colon X \twoheadrightarrow Y\), then we have \(f^{-1} \colon \mathcal{P} (X) \hookrightarrow \mathcal{P} (Y)\). Then, we have
	% https://q.uiver.app/?q=WzAsMTAsWzAsMCwiXFxtYXRoY2Fse1B9KFhfMCkiXSxbMSwwLCJcXG1hdGhjYWx7UH0oWF8xKSJdLFsyLDAsIlxcbWF0aGNhbHtQfShYXzIpIl0sWzMsMCwiXFxtYXRoY2Fse1B9KFhfMykiXSxbMCwxLCJYXzAiXSxbMSwxLCJYXzEiXSxbMiwxLCJYXzIiXSxbMywxLCJYXzMiXSxbNCwwXSxbNCwxXSxbMCwxLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFsxLDIsIiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzIsMywiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMyw4LCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFs5LDcsIiIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFs3LDYsIiIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFs2LDUsIiIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFs1LDQsIiIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dXQ==
	\[\begin{tikzcd}
			{\mathcal{P}(X_0)} & {\mathcal{P}(X_1)} & {\mathcal{P}(X_2)} & {\mathcal{P}(X_3)} & {} \\
			{X_0} & {X_1} & {X_2} & {X_3} & {}
			\arrow[hook, from=1-1, to=1-2]
			\arrow[hook, from=1-2, to=1-3]
			\arrow[hook, from=1-3, to=1-4]
			\arrow[hook, from=1-4, to=1-5]
			\arrow[two heads, from=2-5, to=2-4]
			\arrow[two heads, from=2-4, to=2-3]
			\arrow[two heads, from=2-3, to=2-2]
			\arrow[two heads, from=2-2, to=2-1]
		\end{tikzcd}\]
\end{eg}