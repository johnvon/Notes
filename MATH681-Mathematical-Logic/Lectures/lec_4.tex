\lecture{4}{17 Jan. 14:30}{Theories and Axioms}
\begin{eg}
	Let \(\mathcal{L} _1 = \left\{ E \right\} \), where \(E\) is a binary relation representing edge relation; and \(\mathcal{L} _2 = \left\{ V, E, I \right\} \), where \(V, E\) are unary relations and \(I\) is a binary relation representing incidence such that \(I(v, e)\) for \(v\in V\), \(e\in E\) means that \(v\) is a vertex on edge \(e\). Then,
	\begin{itemize}
		\item Let \(G\) be a graph, viewed as an \hyperref[def:structure]{\(\mathcal{L} _1\)-structure}. A \hyperref[def:substructure]{substructure} of \(G\) is an induced subgraph \(H \subseteq G\) such that any edge in \(G\) between two vertices of \(H\) is in \(H\).
		\item If we view \(G\) as an \hyperref[def:substructure]{\(\mathcal{L} _2\)-substructure}, a \hyperref[def:substructure]{substructure} is a subgraph \(H\) such that \(H\) has some vertices and edges from \(G\).\footnote{But there might be edges in \(H\) with no vertices, which can be fixed by having two functions \(I_1(e)=v\), \(I_2(e)=w\) when \(e\colon v \to w\).}
	\end{itemize}
\end{eg}

The difference is that for \(\mathcal{L} _1\), having an edge is \hyperref[not:quantifier-free-formula]{quantifier-free}, while in \(\mathcal{L} _2\) is existential. To elaborate a bit further, for \(\mathcal{L} _2\), \(vEw\) is \hyperref[not:quantifier-free-formula]{quantifier-free}, while in \(\mathcal{L} _2\),
\[
	\exists \ (v\in V \land w\in V \land e\in E \land I(v, e) \land I(w, e))
\]
is not \hyperref[not:quantifier-free-formula]{quantifier-free}.

\section{Theories}
Let's start by the notion of \hyperref[def:theory]{theory}.

\begin{definition}[Theory]\label{def:theory}
	An \emph{\(\mathcal{L}\)-theory} is a set of \hyperref[def:sentence]{\(\mathcal{L} \)-sentences}.
\end{definition}

\begin{definition}[Model]\label{def:model}
	\(\mathcal{M} \) is a \emph{model} of a \hyperref[def:theory]{theory} \(T\), written as \(\mathcal{M} \models T\), if \(\mathcal{M} \models \varphi \) for all \(\varphi \in T\).
\end{definition}

\begin{note}
	Not every \hyperref[def:theory]{theory} has a \hyperref[def:model]{model}, e.g., \(\left\{ \exists x\ x \neq x \right\} \).
\end{note}

The above note motivates the following.

\begin{definition}[Satisfiable]\label{def:satisfiable}
	A \hyperref[def:theory]{theory} is \emph{satisfiable} if it has a \hyperref[def:model]{model}.
\end{definition}

\begin{definition}[Elementary class]\label{def:elementary-class}
	A class \(\mathcal{K} \) of \hyperref[def:structure]{\(\mathcal{L} \)-structures} \(\mathcal{M} \) is called an \emph{elementary class} if there is an \hyperref[def:theory]{\(\mathcal{L} \)-theory} \(T\) such that
	\[
		\mathcal{K} = \left\{ \mathcal{M} \mid \mathcal{M} \models T \right\}.
	\]
\end{definition}

One way to get an \hyperref[def:elementary-class]{elementary class} is to take an \hyperref[def:structure]{\(\mathcal{L} \)-structure} \(\mathcal{M} \) and take the \hyperref[def:full-theory]{full theory}.

\begin{definition}[Full theory]\label{def:full-theory}
	The \emph{full theory} \(\mathop{\mathrm{Th}}(\mathcal{M} ) \) of an \hyperref[def:structure]{\(\mathcal{L} \)-structure} \(\mathcal{M} \) is defined as \(\mathop{\mathrm{Th}}(\mathcal{M} ) = \left\{ \varphi \mid \mathcal{M} \models \varphi  \right\}\).
\end{definition}

From the definition, \(\mathcal{M} \models \mathop{\mathrm{Th}}(\mathcal{M} ) \), and \(\mathop{\mathrm{Th}}(\mathcal{M} ) \) characterizes the \hyperref[def:structure]{structures} satisfying the same \hyperref[def:sentence]{sentences} as \(\mathcal{M} \).

\begin{definition}[Complete]\label{def:complete}
	A \hyperref[def:theory]{theory} \(T\) is \emph{complete} if for any \hyperref[def:sentence]{sentence} \(\varphi \), either \(\varphi \in T\) or \(\lnot \varphi \in T\).
\end{definition}

\begin{remark}
	\(\mathop{\mathrm{Th}}(\mathcal{M} ) \) is \hyperref[def:complete]{complete}.
\end{remark}

\begin{definition}[Elementarily equivalent]\label{def:elementarily-equivalent}
	\(\mathcal{M} \) and \(\mathcal{N} \) are \emph{elementarily equivalent}\(\mathcal{M} \equiv \mathcal{N} \) if for all \hyperref[def:sentence]{sentences} \(\varphi \),
	\[
		\mathcal{M} \models \varphi \iff \mathcal{N} \models \varphi .
	\]
\end{definition}

\begin{remark}
	There are \(\mathcal{N} \models \mathop{\mathrm{Th}}(\mathbb{N})\), but \(\mathcal{N} \) is not isomorphic to \(\mathbb{N} \). \(\mathcal{N} \) is called a \emph{non-standard model of arithmetic}, and \(\mathcal{N} \) might have \emph{infinite element} larger than all of \(\mathcal{M} \). Here, \(\mathbb{N} =(\mathbb{N} , 0, 1, +, \cdot, - )\)
\end{remark}

\begin{eg}
	\(\mathbb{Z} \oplus \mathbb{Z} \not\equiv \mathbb{Z} \) as groups.
\end{eg}

The other way to define a \hyperref[def:theory]{theory} is to write down axioms.

\begin{eg}[Infinite set]
	Let \(\mathcal{L} = \varnothing \), and let \(T\) consist of
	\[
		\varphi _n \coloneqq \exists x_1 \ldots \exists x_n\ \bigwedge _{i \neq j} x_i \neq x_j.
	\]
\end{eg}

\begin{eg}[Linear order]
	Let \(\mathcal{L} =\left\{ \leq \right\} \), and let \(T\) consist of the axioms of linear orders, e.g.,
	\[
		\forall x\forall y\ (x \leq y \land y \leq x \to x=y).
	\]
\end{eg}

There are other interesting \hyperref[def:theory]{theories} of linear orders, e.g., dense ones.

\begin{eg}[Dense linear order]
	Consider
	\[
		\forall x \forall y\ (x < y \to  \exists z\ x < z < y),
	\]
	where we use \(a < b\) as shorthand of saying \(a \leq b \land a \neq b\).
\end{eg}

\begin{eg}[Group]
	In \(\mathcal{L} _{\text{group} } = \left\{ e, \cdot, ^{-1}  \right\} \), let \(T\) be the group axioms.
\end{eg}

Other \hyperref[def:theory]{theories} of groups include Abelson group, divisible, etc.

\begin{definition}[Finitely axiomatizable]\label{def:finitely-axiomatizable}
	A \hyperref[def:theory]{theory} is \emph{finitely axiomatizable} if it has a finite set of axioms.
\end{definition}

Given a \hyperref[def:theory]{theory}, consider \(T^{\models } = \left\{ \varphi \mid T \models \varphi \right\}\),\footnote{Recall \autoref{def:logical-consequence}.} so \(\mathcal{M} \models T\) if and only if \(\mathcal{M} \models T^{\models }\). Often we think of \(T\) and \(T^{\models }\) as the same. A \hyperref[def:theory]{theory} \(T\) is \hyperref[def:finitely-axiomatizable]{finitely axiomatizable} if there is a finite \(\Phi \) such that \(T^{\models } = \Phi ^{\models }\).

\subsection{Elementary Embeddings}
Let's now consider the following notion.

\begin{definition}[Elementary embedding]\label{def:elementary-embedding}
	Let \(\mathcal{M} \) and \(\mathcal{N} \) be \hyperref[def:structure]{\(\mathcal{L} \)-structures}, and \(f\colon \mathcal{M} \to \mathcal{N} \) an \hyperref[def:embedding]{\(\mathcal{L} \)-embedding}. Then \(f\) is an \emph{elementary embedding} if for any \hyperref[def:formula]{formula} \(\varphi (\overline{x} )\) and \(\overline{a} \in M\),
	\[
		\mathcal{M} \models \varphi (\overline{a} )\iff \mathcal{N} \models \varphi (f(\overline{a} )).
	\]
\end{definition}

\begin{definition}[Elementary substructure]\label{def:elementary-substructure}
	If \(f\colon \mathcal{M} \hookrightarrow \mathcal{N} \) is a \hyperref[def:elementary-embedding]{elementary embedding} where \(\mathcal{M}\) is a \hyperref[def:substructure]{substructure} of \(\mathcal{N} \), then \(\mathcal{M} \) is an \emph{elementary substructure} of \(\mathcal{N} \).
\end{definition}

\begin{eg}
	As groups, \(\mathbb{Z} \hookrightarrow \mathbb{Q} \) is not \hyperref[def:elementary-embedding]{elementary}. In fact, \(\mathbb{Z} \not\equiv \mathbb{Q} \). Wheres, if \(f\colon \mathcal{M} \hookrightarrow \mathcal{N} \) is an \hyperref[def:elementary-embedding]{elementary embedding}, \(\mathcal{M} \equiv \mathcal{N} \).\footnote{And also much more is true.}
\end{eg}

\begin{proposition}\label{prop:isomorphism-is-elementary-embedding}
	Every \hyperref[def:isomorphism]{isomorphism} is an \hyperref[def:elementary-embedding]{elementary embedding}.
\end{proposition}
\begin{proof}
	Let \(f\colon \mathcal{M} \to  \mathcal{N} \) be an \hyperref[def:isomorphism]{isomorphism}. We will argue by induction on \hyperref[def:formula]{formulas} \(\varphi \), that for all \(\overline{a} \in M\),
	\[
		\mathcal{M} \models \varphi (\overline{a} ) \iff \mathcal{N} \models \varphi (f(\overline{a} )).
	\]
	Firstly, observe that all cases except quantifiers are the same as \autoref{prop:lec3-1}. For quantifiers, suppose that \(\varphi (\overline{x} )\) is \(\exists y\ \psi (\overline{x} , y)\) and \(\mathcal{M} \models \varphi (\overline{a} )\). This means that there is \(b\in M\) such that \(\mathcal{M} \models \psi (\overline{a} , b)\). By the induction hypothesis, \(\mathcal{N} \models \psi (f(\overline{a} , f(b)))\), so \(\mathcal{N} \models \varphi (f(\overline{a} ))\).

	Now suppose \(\mathcal{N} \models \varphi (f(\overline{a} ))\), then there is \(c\in N\) such that \(\mathcal{N} \models \psi (f(\overline{a} ), c)\). Since \(f\) is an \hyperref[def:isomorphism]{isomorphism}, so there is a \(b\in M\) such that \(f(b) = c\). By the induction hypothesis, \(\mathcal{M} \models \psi (\overline{a} , b)\), so \(\mathcal{M} \models \varphi (\overline{a} )\).
\end{proof}

\begin{corollary}
	If \(\mathcal{M} \cong \mathcal{N} \), then \(\mathcal{M} \equiv \mathcal{N} \).
\end{corollary}

\subsection{Definable Sets}
Consider the following.

\begin{definition}[Definable]\label{def:definable}
	Let \(\mathcal{M} \) be an \hyperref[def:structure]{\(\mathcal{L} \)-structure}, then \(X \subseteq M^n\) is \emph{definable} if there is a \hyperref[def:formula]{formula} \(\varphi (x_1, \ldots , x_n, \overline{y} )\) and \(\overline{b} \in M\) such that
	\[
		X = \left\{ \overline{a} \in M^n \mid \mathcal{M} \models \varphi (\overline{a} , \overline{b} ) \right\}.
	\]
\end{definition}

\begin{notation}[Define]\label{not:define}
	We say that \(\varphi (\overline{x} , \overline{b} )\) \emph{defines} \(X\) over \(\overline{b} \), written as \(X = \varphi (\mathcal{M} , \overline{b} )\).
\end{notation}

\begin{notation}[Parameter]\label{not:parameter}
	The tuple \(\overline{b} \) is called the \emph{parameters} when \(X\) is \hyperref[def:definable]{definable} over \(\overline{b} \).
\end{notation}

\begin{remark}
	Sometimes \(X\) is \hyperref[def:definable]{definable} without \hyperref[not:parameter]{parameters}, or \hyperref[def:definable]{definable} over \(\varnothing \).
\end{remark}

\begin{eg}
	Take \(\mathbb{R} =(\mathbb{R} , 0, 1, +, \cdot, -)\) in \(\mathcal{L} _{\text{ring} }\), then
	\[
		\leq = \left\{ (a, b) \colon a \leq b\right\}
	\]
	is \hyperref[def:definable]{definable}.
\end{eg}

\begin{eg}
	Let \(\mathbb{Z} =(\mathbb{Z} , +, -, \cdot, 0, 1)\), then \(\mathbb{N} \) is \hyperref[def:definable]{\(\varnothing \)-definable} in \(\mathbb{Z} \) by\footnote{From the \href{https://en.wikipedia.org/wiki/Lagrange's_four-square_theorem}{Langrange's four-square theorem}, which says that every natural number is the sum of four squares.}
	\[
		\mathbb{N} = \left\{ z\in \mathbb{Z} \colon \exists u, v, x, y\ u^2 + v^2 + x^2 + y^2 = z \right\}.
	\]
\end{eg}

\begin{eg}
	\(\mathbb{Z} \) is \hyperref[def:definable]{\(\varnothing \)-definable} in \(\mathbb{Q} = (\mathbb{Q} , +, -, \cdot, 0, 1)\). This is a result of Julia Robinson~\cite{robinson_1949}, and the formulation is very complicated.
\end{eg}

\begin{problem*}
	How does one show that a set is not \hyperref[def:definable]{definable}? For example, \(\mathbb{R} \) is not \hyperref[def:definable]{definable} in \(\mathbb{C} = (\mathbb{C} , 0, 1, +, \cdot, -)\).
\end{problem*}