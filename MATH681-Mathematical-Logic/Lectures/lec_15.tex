\lecture{15}{23 Feb.\ 11:30}{The Random Graph Theory}
\begin{proposition}
	Suppose \(\mathcal{M} _1 \preceq \mathcal{M} _2 \preceq \dots \), and let \(\mathcal{M} = \bigcup_{i} \mathcal{M} _i\). Then \(\mathcal{M} _i \preceq \mathcal{M} \) for all \(i\).\footnote{Countability is not necessary.}
\end{proposition}
\begin{proof}
	By induction on \hyperref[def:formula]{formulas}, for all \(i\) and \(\overline{a} \in M_i\), we show that \(\mathcal{M} _i \models \varphi (\overline{a} )\) if and only if \(\mathcal{M} \models \varphi (\overline{a} )\).
	\begin{enumerate}[(a)]
		\item For \(\varphi \) is \hyperref[not:atomic]{atomic}, this is true since \(\varphi \) is \hyperref[not:quantifier-free]{quantifier-free} and \(\mathcal{M} _i \subseteq \mathcal{M} \).
		\item For \(\lnot, \lor, \land \), exactly the same as the \hyperref[prop:Tarski-Vaught-test]{Tarski-Vaught test}.
		\item If \(\varphi \) is \(\exists y\ \psi (\overline{x} , y)\):
		      \begin{itemize}
			      \item If \(\mathcal{M} _i \models \exists y\ \psi (\overline{a} , y)\), there is \(b\in M_i\) such that \(\mathcal{M} _i \models \psi (\overline{a} , b)\). Then by the induction hypothesis, \(\mathcal{M} \models \psi (\overline{a} , b)\), so \(\mathcal{M} \models \exists y\ \psi (\overline{a} , y)\).
			      \item If \(\mathcal{M} \models \exists y\ \psi (\overline{a} , y)\), then there is \(b\in M\) such that \(\mathcal{M} \models \psi (\overline{a} , b)\). Since \(M = \bigcup_{j} M_j\), there is \(j \geq i\) such that \(b\in M_j\). By the induction hypothesis, \(\mathcal{M} _j \models \psi (\overline{a} , b)\), so \(\mathcal{M} _j \models \exists y\ \psi (\overline{a} , y)\). Finally, since \(\mathcal{M} _i \preceq \mathcal{M} _j\), so \(\mathcal{M} _i \models \exists y\ \psi (\overline{a} , y)\).
		      \end{itemize}
	\end{enumerate}
\end{proof}

\section{Back and Forth}
We have examples of \hyperref[def:uncountably-categorical]{uncountably categorical} \hyperref[def:theory]{theories}, but no examples of \hyperref[def:countably-categorical]{countably categorical} \hyperref[def:theory]{theories}.

\subsection{Dense Linear Order Theory}
The simplest example of a \hyperref[def:countably-categorical]{countably categorical} \hyperref[def:theory]{theory} is the \hyperref[def:theory]{theory} of ``linear orders (without endpoints),''  denoted as \hyperref[def:DLO]{\(\DLO\)}.

\begin{definition}[\(\DLO\)]\label{def:DLO}
	Let \(\mathcal{L} = \left\{ \leq \right\} \). The \hyperref[def:theory]{theory} of \emph{dense linear orders (without endpoints)}, denoted as \(\DLO\), has the axioms:
	\begin{enumerate}[(a)]
		\item \(\leq \) is a linear order;
		\item \(\forall x \forall y\ (x < y \to \exists z\ x < z < y)\) (the density axiom);
		\item \(\forall x \exists y \exists z\ (y < x < z)\) (the no-endpoints axiom).
	\end{enumerate}
\end{definition}

\begin{eg}
	\((\mathbb{Q} , \leq )\) and \((\mathbb{R} , \leq )\) are both \(\DLO\)'s.
\end{eg}

To create a new \hyperref[def:DLO]{dense linear orders}, given \(\mathcal{M} _1, \mathcal{M} _2\) two \(\DLO\)'s, define \(\mathcal{M} _1 + \mathcal{M} _2\) with domain \(M \sqcup N\) and has each element of \(M\) less than each element of \(N\), and within \(M\) and \(N\), the orderings are the same as in \(\mathcal{M} \) and \(\mathcal{N} \). This is also a \(\DLO\).

\begin{eg}
	\(\mathbb{Q} + \mathbb{Q} \) and \(\mathbb{R} + \mathbb{R} \) are both \(\DLO\)'s.
\end{eg}

\begin{eg}
	\(\mathbb{R} + \mathbb{R} \not \cong \mathbb{R} \).
\end{eg}
\begin{explanation}
	Since \(\mathbb{R} \) has the least upper bound property while \(\mathbb{R} + \mathbb{R} \) does not (there is no least upper bound for the first copy).
\end{explanation}

\begin{eg}
	\(\mathbb{Q} + \mathbb{Q} \cong \mathbb{Q} \).
\end{eg}
\begin{explanation}
	For example, take some irrational, e.g., \(\pi \). Then \(\mathbb{Q} = \left\{ x \mid x < \pi \right\} \cup \left\{ x \mid x > \pi \right\} \), and we observe that we have
	\[
		\left\{ x \mid x < \pi \right\} \cong \mathbb{Q} \cong \left\{ x \mid x > \pi \right\},
	\]
	and hence piecing them together we have \(\mathbb{Q} + \mathbb{Q} \cong \mathbb{Q} \).
\end{explanation}

\begin{eg}
	\(\mathbb{Q} + \mathbb{R} \not \cong \mathbb{R} \), so \(\DLO\) is not \hyperref[def:categorical]{\(\vert \mathbb{R} \vert = 2^{\aleph_0}\)-categorical}. In fact, not \hyperref[def:categorical]{\(\kappa \)-categorical} for any \(\kappa \geq 2^{\aleph_0}\).
\end{eg}

We now show that \(\DLO\) is actually \hyperref[def:countably-categorical]{countably categorical}.

\begin{theorem}\label{thm:DLO-countably-categorical}
	The \hyperref[def:theory]{theory} \(\DLO\) is \hyperref[def:countably-categorical]{countably categorical} and hence \hyperref[def:theory-complete]{complete}.
\end{theorem}
\begin{proof}
	Let \((A, \leq )\) and \((B, \leq )\) be two countable \(\DLO\)'s, and let \(a_1, a_2, \dots \) and \(b_1, b_2, \dots \) be a listing of \(A\) and \(B\), respectively. We build an \hyperref[def:isomorphism]{isomorphism} \(f\colon A \to B\) stage-by-stage: at stage \(i\), we have
	\begin{itemize}
		\item finite sets \(A_i \subseteq A\) and \(B_i \subseteq B\), and
		\item a bijection \(f_i \colon A_i \to B_i\) called a \emph{partial embedding}:\footnote{If \(f_i\) maps \(\overline{a} \) to \(\overline{b} \), then \(\overline{a} \) satisfies the same \hyperref[not:atomic]{atomic} and negated \hyperref[not:atomic]{atomic} \hyperref[def:formula]{formulas} in \((A, \leq )\) that \(\overline{b} \) does in \((B, \leq )\).} if \(a < a^\prime \in A_i\), then \(f_i(a) < f_i(a^\prime )\).
	\end{itemize}
	In this way, \(f_i \subseteq f_{i+1} , A_i \subseteq A_{i+1} \), and \(B_i \subseteq B_{i+1} \), and we need to make sure that
	\begin{itemize}
		\item \(\bigcup_{i} A_i = A\), i.e., each element of \(A\) is in the domain of \(f\) (ensured by odd stages);
		\item \(\bigcup_{i} B_i = B\), i.e., each element of \(B\) is in the range of \(f\) (ensured by even stages),
	\end{itemize}
	so \(f = \bigcup_{i} f_i\) is a bijection from \(A \to B\). Then sine each \(f_i\) is a partial \hyperref[def:embedding]{embedding}, so \(f\) is an \hyperref[def:embedding]{\(\mathcal{L} \)-embedding}, hence an \hyperref[def:isomorphism]{isomorphism}. This will prove that \(\DLO\) is \hyperref[def:countably-categorical]{countably categorical}.

	The construction works as follows.
	\begin{itemize}
		\item Stage \(0\): \(A_0 = \varnothing \), \(B_0 = \varnothing \), \(f_0 = \varnothing \).
		\item Stage \(i+1=2k+1\): the goal is to make sure \(a_k\in A_{i+1} = \dom(f_{i+1} )\):
		      \begin{itemize}
			      \item if \(a_k \in A_i\) already, then do nothing, i.e., \(A_{i+1} = A_i, B_{i+1} = B_i, f_{i+1} = f_i\);
			      \item otherwise, \(a_k \notin A_i\), define \(f_{i+1} \supseteq f_i \) by adding \(a_k\) to \(A_{i+1} = A_i \cup \left\{ a_k \right\} \), and for elements \(a\in A_i\), \(f_{i+1} (a) = f_i (a)\). Now, we have three possibilities:
			            \begin{itemize}
				            \item \(a_k\) is less than all of \(A_i\): choose \(b\in B\) less than all of \(B_i\);\footnote{Such \(b\) exists since \(B_i\) is finite, and \((B, \leq )\) has no left endpoint.}
				            \item \(a_k\) is greater than all of \(A_i\): similar to above;
				            \item there are \(a\) and \(a^\prime \) in \(A_i\) such that \(a < a_k < a^\prime \) with no other elements of \(A_i\) between \(a\) and \(a^\prime \) since \(A_i\) is finite: pick \(b\) with \(f_i(a) < b < f_i(a^\prime )\).\footnote{Such \(b\) exists since \(B_i\) is finite and \((B, \leq )\) is dense.}
			            \end{itemize}
			            In all cases, we can choose \(b\) and let \(B_{i+1} = B_i \cup \left\{ b \right\} \) with \(f_{i+1}(a_k) = b\).
		      \end{itemize}
		\item Stage \(i+1 = 2k+2\): the goal is to make sure \(b_k\in B_{i+1} = \im(f_{i+1} )\): this is exactly the same, but in the other direction (e.g., working with \(f_i ^{-1} \) rather than \(f_i\)).
	\end{itemize}
	Now everything is checked, so \(\DLO\) is \hyperref[def:countably-categorical]{countably categorical} (hence \hyperref[def:theory-complete]{complete} by \hyperref[thm:Vaught-test]{Vaught test}).
\end{proof}

\begin{note}[Back-and-forth]\label{not:back-and-forth}
	We see that the above is the so-called \emph{back-and-forth} argument.
\end{note}

\begin{corollary}
	\(\mathbb{Q} + \mathbb{R} \equiv \mathbb{R} \).
\end{corollary}
\begin{proof}
	Since \(\mathop{\mathrm{Th}}(\mathbb{Q} + \mathbb{R} ) = \mathop{\mathrm{Th}}(\mathbb{R} ) = \left\{ \varphi \mid \DLO \models \varphi \right\}\).
\end{proof}

\begin{definition}[Complete]\label{def:linear-order-complete}
	A linear order is \emph{complete} if every subset bounded above has a least upper bound.
\end{definition}

\begin{corollary}
	There is no first order \hyperref[def:sentence]{sentence} \(\varphi \) such that \(\mathcal{M} \models \varphi \) if and only if \(\mathcal{M} \) is a \hyperref[def:linear-order-complete]{complete} linear order.
\end{corollary}

\subsection{Random Graph Theory}
Another example of a \hyperref[def:countably-categorical]{countably categorical} \hyperref[def:theory]{theory} is the \hyperref[def:theory]{theory} of \hyperref[def:random-graph]{random graph}.

\begin{definition}[Random graph]\label{def:random-graph}
	A \emph{random graph} we will consider is constructed as follows. Firstly, fix countably infinitely many vertices \(v_1, v_2, \dots \), and fix \(p\) such that \(0 < p < 1\). For each pair of vertices, ``flip a coin'': with probability \(p\), put an edge; with \(1-p\), no edge.
\end{definition}

Now, the question is, what graph do we get? It turns out to be interesting enough, so we will look into it:

\begin{remark}
	With probability \(1\), we get the same graph up to isomorphism, not matter what \(p\) is.
\end{remark}

Then, consider the following \hyperref[def:theory]{theory}.

\begin{definition}[Random graph theory]\label{def:random-graph-theory}
	Let \(\mathcal{L} = \left\{ E \right\} \), where \(E\) is a binary relation. The \emph{random graph theory} \(T\) has axioms:
	\begin{enumerate}[(a)]
		\item\label{def:random-graph-theory-a} \(\forall x\ \lnot xEx\) and \(\forall x \forall y\ (xEy \to yEx)\) (irreflexive, undirected);
		\item\label{def:random-graph-theory-b} \(\exists x \exists y\ x \neq y\);
		\item for each \(n\), define \(\psi _n\) as
		      \[
			      \psi _n \coloneqq \forall x_1 \dots \forall x_n \forall y_1 \dots \forall y_n\ \left[ \bigwedge_{i=1}^{n} \bigwedge_{j=1}^{n} x_i \neq y_i \to \exists z\ \left( \bigwedge_{i=1}^{n} x_i E z \land \lnot y_i E z \land z \neq x_i \land z \neq y_i \right) \right]
		      \]
	\end{enumerate}
\end{definition}

\begin{intuition}[Extension axiom]\label{int:extension-axiom}
	Think of \(\psi _n\) as an \emph{extension axiom}: the property that for any finite disjoint sets \(X\) and \(Y\), there is a vertex with an edge to each \(x\in X\) and no edge to each \(y\in Y\). This axiom happens with probability \(p^{\vert X \vert } \cdot (1 - p) ^{\vert Y \vert }\) for a given \(z\) for some \(X, Y\).
\end{intuition}

We see that a \hyperref[def:model]{model} of \(T\) is a graph with at least two elements with the \hyperref[int:extension-axiom]{extension property}.

\begin{center}
	\incfig{random-graph-theory}
\end{center}

\begin{note}
	In \(\psi _n\)'s, we allow there to be repetitions among the \(x\)'s and the \(y\)'s. In particular, if \(m \leq n\), then \(\psi _n \models \psi _m\).
\end{note}