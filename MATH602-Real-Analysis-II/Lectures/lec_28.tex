\lecture{28}{8 Dec. 14:30}{}
\begin{proof}[Proof of \autoref{thm:lec27} (Cont.)]
	Firstly, we show that \(\mu (V_1 \cup V_2) \leq \mu (V_1) + \mu (V_2)\) if \(V_1, V_2\) are open. To do this, let \(g\in C_c(X)\) and \(0 \leq g \leq \chi _{V_1 \cup V_2}\). Recall that \(\mu (V) = \sup _{0 \leq g\leq \chi _{V_1 \cup V_2}} \Lambda (g)\). Let \(K = \mathop{\mathrm{supp}}(g) \) such that \(K\) is \hyperref[def:compact]{compact} and \(K \subseteq V_1 \cup V_2\). Choose a partition of unity \(h_1, h_2\) such that \(0 \leq h_1, h_2 \leq 1\) and \(0 \leq h_1 \leq \chi _{V_1}\), \(0 \leq h_2 \leq \chi _{V_2}\) with \(h_1(x) + h_2(x) = 1\) for \(x\in K\) from the \hyperref[thm:Urysohn-lemma]{Urysohn's lemma}. Then \(g \coloneqq h_1 g + h_2 g\), we have
	\[
		\Lambda (g) = \Lambda (h_1 g) + \Lambda (h_2 g),
	\]
	with \(0 \leq h_1 g \leq \chi _{V_1}\) and \(0 \leq h_2 g \leq \chi _{V_2}\), we have \(\Lambda (h_1 g) \leq \mu (V_1)\) and \(\Lambda (h_2 g)\leq \mu (V_2)\), hence
	\[
		\Lambda (g) \leq \mu (V_1) + \mu (V_2)
	\]
	for all \(g\in C_c(X)\) such that \(0 \leq g \leq \chi _{V_1 \cup V_2}\). Taking the supremum over \(g\), we then get
	\[
		\mu (V_1 \cup V_2) \leq \mu (V_1) + \mu (V_2)
	\]
	if \(V_1, V_2\) are open. For general \(E_n\), \(n \geq 1\), subsets of \(X\), we can assume that \(\mu (E_n) < \infty \) for all \(n \geq 1\). Hence, there exists open \(V_n\) such that \(e_n \subseteq V_n\) such that
	\[
		\mu (E_n) \leq \mu (V_n) + \frac{\epsilon}{2^n}
	\]
	for \(n\geq 1\). Let \(V = \bigcup_{i=1}^{\infty} V_i\), which is open, then \(E = \bigcup_{n=1}^{\infty} E_n \subseteq V\), i.e., \(\mu (E) \leq \mu (V)\). Let \(f\in C_c(X)\) and \(0 \leq f < \chi _V\), we have \(\mu (V) = \inf \left\{ \Lambda (f) \colon 0 \leq f < \chi _V \right\} \). Then let \(K = \mathop{\mathrm{supp}}(f) \) such that \(K\) is \hyperref[def:compact]{compact}, the sets \(V_j\) for \(j \geq 1\) is an open covering of \(K\), hence there exists a finite subcover \(K \subseteq \bigcup_{j=1}^{N} V_j\) for some \(N < \infty \). This implies that
	\[
		\Lambda (f) \leq \mu \left( \bigcup_{j=1}^{N} V_j \right) \leq \sum_{j=1}^{N} \mu (V_j).
	\]
	Since \(\mu (V_j) \leq \mu (E_j) + \epsilon / 2^j\), we have
	\[
		\Lambda (f) \leq \sum_{j=1}^{N} \mu (E_j) + \frac{\epsilon}{2^j} \leq \sum_{j=1}^{\infty} \mu (E_j) + \epsilon.
	\]
	Take supremum over all \(f\) with \(0 \leq f < \chi vV\), we have \(\mu (V) \leq \sum_{j=1}^{\infty} \mu (E_j) + \epsilon \), i.e.,
	\[
		\mu (E) \leq \sum_{i=1}^{\infty} \mu (E_j) + \epsilon.
	\]
	By letting \(\epsilon \to 0\), we have subadditivity.

	Recall that \(\widetilde{\mathcal{M}}\) contains all subsets \(E\) of \(X\) such that \(\mu (E) < \infty \). And
	\[
		\mu (E) = \sup \left\{ \mu (K)\colon K\subseteq E, K \text{ \hyperref[def:compact]{compact}} \right\}.
	\]
	In particular, \( \widetilde{\mathcal{M}} \) contains all \hyperref[def:compact]{compact} subsets \(K\) of \(X\) and all open subsets \(V\) of \(X\) such that \(\mu (V) < \infty \). Let \(K \subseteq X\) and \hyperref[def:compact]{compact}, suppose \(f\in C_c(X)\) with \(\chi _K \leq f\), with \(V = \left\{ x\in X\colon f(x) > 1 / 2 \right\} \), which is open and \(K \subseteq V\). Furthermore, let \(g\in C_c(X)\) such that \(0 \leq g < \chi _V\), hence \(g \leq 2f\), which implies
	\[
		\mu (K) \leq \mu (V) = \sup \left\{ \Lambda (g) \colon 0 \leq g < \chi _V \right\} \leq \Lambda (2f) < \infty.
	\]
	We then conclude that \(\mu (K) < \infty \), i.e., \(K\in \widetilde{\mathcal{M}} \). Next, we show that if \(V\) is open and \(\mu (V) < \infty \), then \(\mu (V) = \sup \left\{ \mu(K)\colon K \subseteq V, K \text{ \hyperref[def:compact]{compact}} \right\} \). This is clear if \(\mu (V) = 0\), so assume \(\mu (V) > 0\). Let \(\alpha \) satisfy \(0 < \alpha < \mu (V)\), then there exists \(f\in C_c(X)\) such that \(0 \leq f < \chi _V\), we have \(\alpha < \Lambda (f)\). Set \(K = \mathop{\mathrm{supp}}(f) \), so \(K\) is \hyperref[def:compact]{compact}. Then if \(W\) is open and \(K \subseteq W\) have \(\alpha < \Lambda (f) \leq \mu (W)\), so \(\alpha < \mu (W)\) for all \(W\) containing \(K\). With \(\mu (K) = \inf \left\{ \mu (W) \colon K \subseteq W \right\} \), \(\alpha \leq \mu (K)\) for any \(\alpha < \mu (V)\). This leads to
	\[
		\mu (V) = \sup \left\{ \mu (K) \colon K \subseteq V, K \text{ \hyperref[def:compact]{compact}} \right\}.
	\]

	Now, for \(E \subseteq X\), \(E \in \widetilde{\mathcal{M}} \) if \(\mu (E) < \infty \) and \(\mu (E) = \sup \left\{ \mu (K) \colon K \subseteq E, K \text{ \hyperref[def:compact]{compact}}  \right\} \), we have shown that if \(K\) is \hyperref[def:compact]{compact}, we have \(K \in \widetilde{\mathcal{M}} \); while if \(V\) is open and \(\mu (V) < \infty \), we have \(V\in \widetilde{\mathcal{M}} \). We now show the additivity, i.e., let \(E_1, E_2, \ldots \) be in \( \widetilde{\mathcal{M}} \) and the \(E_j\), \(j\geq 1\) disjoint, we want
	\[
		\mu (E) = \sum_{j=1}^{\infty} \mu (E_j).
	\]
	If in addition \(\mu (E) < \infty \), then \(E \in \overline{\mathcal{M}}\). First we show that if \(K_1, K_2, \ldots  \) is \hyperref[def:compact]{compact} and disjoint, then \(\mu (K_1 \cup K_2) = \mu (K_1) + \mu (K_2)\). Let \(K = K_1\), \(U = X - K_2\), then \(K \subseteq U\). By \autoref{thm:open-between-compact}, there exists open \(V_1\) such that
	\[
		K \subseteq V_1 \subseteq \overline{V} _1 \subseteq U.
	\]
	Set \(V_2 = X - \overline{V} _1\), then we have \(K_1 \subseteq V_1\), \(K_2 \subseteq V_2\) such that \(V_1\) and \(V_2\) are disjoint. For \(\epsilon > 0\), let \(W\) be open, \(K_1 \cup K_2 \subseteq W\), we have
	\[
		\mu (W) < \mu (K_1 + K_2) + \epsilon.
	\]
	With \(W \cap V_1\) and \(W \cap V_2\) are disjoint, there exists functions \(f_1, f_2 \in C_c(X)\) such that
	\[
		0 \leq f_1 < \chi _{W \cap V_1}, \quad 0 \leq f_2 < \chi _{W \cap V_2}
	\]
	with
	\[
		\Lambda (f_1) > \mu (W \cap V_1) - \epsilon ,\quad \Lambda (f_2) > \mu (W \cap V_2) - \epsilon.
	\]
	Then
	\[
		\begin{split}
			\mu (K_1) + \mu (K_2)
			&\leq \mu (W \cap V_1) + \mu (W \cap V_2) \\
			&< \Lambda (f_1) + \Lambda (f_2) + 2\epsilon \\
			&= \Lambda (f_1 + f_2) + 2\epsilon \\
			&\leq \mu (W) + 2\epsilon \\
			&< \mu (K_1 \cup K_2) + 3\epsilon
		\end{split}
	\]
	since \(V_1, V_2\) are disjoint, with \(0 \leq f_1 + f_2 < \chi _W\). Let \(\epsilon \to 0\), we have
	\[
		\mu (K_1) + \mu (K_2) \leq \mu (K_1 \cup K_2),
	\]
	and from subadditivity, \(\mu (K_1 \cup K_2) = \mu (K_1) + \mu (K_2)\). Now, we show \(\mu (E) = \sum_{j=1}^{\infty} \mu (E_j)\) where \(E = \bigcup_{j=1}^{\infty} E_j\) such that \(E_j\in \widetilde{\mathcal{M}} \) are disjoint. We may assume that \(\mu (E) < \infty \), i.e., \(\mu (E_i) < \infty \) for all \(i\) since \(E_i \subseteq E\). Since \(E_i\in \widetilde{\mathcal{M}} \), there exists a \hyperref[def:compact]{compact} \(H_i \subseteq E_i\) such that \(\mu (H_i) > \mu (E_i) - \epsilon / 2^i\) for all \(i \geq 1\). Then, form \(\bigcup_{i=1}^{n} H_i \subseteq E\), we have
	\[
		\mu (E) \geq \mu \left( \bigcup_{i=1}^{n} H_i \right) = \sum_{i=1}^{n} \mu (H_i)
	\]
	from finite additivity for \hyperref[def:compact]{compact sets}. Let \(n \to \infty \),
	\[
		\mu (E)
		\geq \sum_{i=1}^{\infty} \mu (H_i)
		\geq \sum_{i=1}^{\infty} \mu (E_i) - \frac{\epsilon}{2^i}
		= \sum_{i=1}^{\infty} \mu (E_i) - \epsilon,
	\]
	by letting \(\epsilon \to 0\), we have \(\mu (E) = \sum_{i=1}^{\infty} \mu (E_i)\).

	Finally, we want to show that if \(\mu (E) < \infty \), then
	\[
		\mu (E) = \sup \left\{ \mu (K)\colon K \subseteq E, K \text{ \hyperref[def:compact]{compact}}  \right\},
	\]
	which further implies \(E\in \widetilde{\mathcal{M}} \). We have shown that
	\[
		\mu (E) = \sum_{i=1}^{\infty} \mu (E_i),
	\]
	so if \(\mu (E) < \infty \), for any \(\epsilon > 0\), there exists an \(N = N(\epsilon )\) such that
	\[
		\sum_{i=1}^{N} \mu (E_i) \geq \mu (E) - \epsilon .
	\]
	Since \(\mu (H_i) \geq \mu (E_i) - \epsilon / 2^i\) for all \(i \geq 1\) for \(H_i \subseteq E_i\) being \hyperref[def:compact]{compact}, this implies
	\[
		\mu \left( \bigcup_{i=1}^{N} H_i \right) \geq \mu (E) - \epsilon,
	\]
	hence we're done.
\end{proof}
