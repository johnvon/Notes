\lecture{24}{22 Nov. 14:30}{The Universal Spectral Mapping Theorem}
\subsection{Continuous Functions of Operators}
We're now going to study the \hyperref[thm:spectral-mapping]{spectral mapping theorem}, which is a generalization of finite dimensions \hyperref[def:self-adjoint-op]{self-adjoint} \(T\) on \(\mathbb{\MakeUppercase{r}} ^n\), where there exists an \hyperref[def:orthonormal-system]{orthonormal} basis of eigenvectors. In this basis, the action of \(t\) is just multiplication by scalars. To generalize this to infinite dimensions, we need measure theory. In particular, we need \hyperref[thm:Weierstrass-approximation]{Weierstrass approximation theorem}.

\begin{theorem}[Weierstrass approximation theorem]\label{thm:Weierstrass-approximation}
	Let \(K \subseteq \mathbb{\MakeUppercase{r}} \) be \hyperref[def:compact]{compact} and \(f\colon K \to \mathbb{\MakeUppercase{r}} \) be continuous, then for any \(\epsilon > 0\), there exists a polynomial \(p^{\epsilon } \) such that
	\[
		\sup_{x\in K} \vert f(x) - p^{\epsilon }(x)  \vert < \epsilon .
	\]
\end{theorem}

Let \(T\) be \hyperref[def:self-adjoint-op]{self-adjoint} on \(\mathcal{\MakeUppercase{h}} \) and \(f\colon \sigma (T) \to \mathbb{\MakeUppercase{r}} \) be a continuous function, then we can define a \hyperref[def:self-adjoint-op]{self-adjoint} operator \(f(T)\). Then we use \hyperref[thm:Weierstrass-approximation]{Weierstrass approximation theorem}, and we find polynomials \(p^{\epsilon _n}(t)\) such that
\[
	p^{\epsilon _n}(t) \to f(t)
\]
uniformly on \(\sigma (T)\). This suggests us to define \(f(T)\) as the limit of \hyperref[def:polynomial-op]{operator polynomials} \(p^{\epsilon _n}(T)\).

\begin{definition}[Continuous function operator]\label{def:continuous-function-op}
	The sequence \(p^{\epsilon _n}(T)\) converges in \(\mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) to a limit that we call \(f(T)\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\), which is also \hyperref[def:self-adjoint-op]{self-adjoint}.
\end{definition}

\begin{note}[Well-defined]
	To show that \autoref{def:continuous-function-op} is well-defined, i.e., we need to show that \(p^{\epsilon _n}(T)\) indeed converges to \(f(T)\), and \(f(T)\) is \hyperref[def:self-adjoint-op]{self-adjoint} and does not depend on the choice of the approximating polynomials \(p^{\epsilon _n}\).
\end{note}
\begin{explanation}
	To construct \(f(T)\), choose a sequence \(p^{\epsilon _n}(\cdot)\) of polynomial such that \(\epsilon _n \to 0\) and
	\[
		\sup _{x\in \sigma (T)} \vert f(x) - p^{\epsilon _n}(x)  \vert < \epsilon
		\implies \sup _{x\in \sigma (T)} \vert p^{\epsilon _n}(x) - p^{\epsilon _m}(x) \vert < \epsilon _n + \epsilon _m.
	\]
	From \autoref{col:op-norm-of-polynomial-op}, \(\lVert p(T) \rVert = \sup _{t\in \sigma (T)} \vert p(t) \vert \), so we have
	\[
		\lVert p^{\epsilon _n}(T) - p^{\epsilon _m}(T) \rVert < \epsilon _n + \epsilon _m,
	\]
	so the sequence \(\left\{ p^{\epsilon _n}(T) \right\} _{n\geq 1}\) is in \(\mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) is Cauchy, so there exists a limit \(f(T)\) with
	\[
		\lim_{n \to \infty} \lVert p^{\epsilon _n}(T) - f(T) \rVert = 0,
	\]
	which shows that \(f(T)\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) is unique.
\end{explanation}

By passing to the limit in the corresponding properties for \hyperref[def:polynomial-op]{polynomial operators} as in \autoref{prop:polynomial-op}, we see that these properties of \(f(T)\) inherited from properties of \(p(T)\) when \(p(\cdot)\) is a polynomial, e.g.,
\begin{enumerate}[(a)]
	\item \((af + bg)(T) = af(T) + bg(T)\);
	\item \((fg)(T) = f(T) g(T)\);
	\item \(f(T)^{\ast} = \overline{f} (T)\) for \(f\colon \sigma (T) \to \mathbb{\MakeUppercase{c}}\),.
\end{enumerate}

\begin{note}
	The first two are also true for continuous complex functions \(f, g\colon \sigma (T) \to \mathbb{\MakeUppercase{c}} \).
\end{note}
\begin{explanation}
	If \(f\colon \sigma (T) \to  \mathbb{\MakeUppercase{c}} \) is complex, we can then write \(f = f_1 + if_2\) for \(f_1, f_2 \colon \sigma (T) \to \mathbb{\MakeUppercase{r}} \) such that
	\[
		f(T) \coloneqq f_1(T) + if_2(T).
	\]
\end{explanation}

\subsection{Spectral Mapping Theorem}
We will now generalize the \hyperref[thm:spectral-mapping-for-polynomial-op]{spectral mapping theorem for polynomial operators} to \hyperref[def:continuous-function-op]{continuous functions of an operator}. It is based on the straightforward generalization of the \hyperref[lma:invertibility-for-polynomial-op]{invertibility lemma for polynomial operators}.

\begin{lemma}[Invertibility]\label{lma:invertibility}
	Let \(T\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) be a \hyperref[def:self-adjoint-op]{self-adjoint operator} and \(f\in C(\sigma (T))\). Then the operator \(f(T)\) is invertible if and only if \(f(t) \neq 0\) for all \(t\in \sigma (T)\).
\end{lemma}
\begin{proof}

\end{proof}

Now the \hyperref[thm:spectral-mapping]{spectral mapping theorem} follows from \hyperref[lma:invertibility]{invertibility lemma} by the same argument as the corresponding result for \hyperref[def:polynomial-op]{polynomial operators}, i.e., \autoref{thm:spectral-mapping-for-polynomial-op}.

\begin{theorem}[Spectral mapping theorem]\label{thm:spectral-mapping}
	Let \(T\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) be a \hyperref[def:self-adjoint-op]{self-adjoint operator} and \(f\in C(\sigma (T))\). Then
	\[
		\sigma (f(T)) = f(\sigma (T)).
	\]
\end{theorem}

This gives a simple way to create \hyperref[def:positive-op]{positive operators}.

\begin{corollary}
	Let \(T\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) be a \hyperref[def:self-adjoint-op]{self-adjoint operator} and \(f\in C(\sigma (T))\). If \(f(t) \geq 0\) for all \(t\in \sigma (T)\), then \(f(T) \geq 0\).
\end{corollary}
\begin{proof}

\end{proof}

\subsection{Square Root of Operators}
Consider a \hyperref[def:positive-op]{positive} \hyperref[def:self-adjoint-op]{self-adjoint operator} \(T\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\), then \(\sigma (T) \subseteq [0, \infty )\). The function \(f(t) = \sqrt{t} \) is continuous on \([0, \infty )\), so we can define \(f(T) = \sqrt{T} \). A simple observation leads to the following.

\begin{proposition}[Square root of operator]\label{prop:square-root-of-op}
	Let \(T\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) be \hyperref[def:positive-op]{positive} \hyperref[def:self-adjoint-op]{self-adjoint}, i.e., \(\left\langle Tx, x \right\rangle \geq 0\) for \(x\in \mathcal{\MakeUppercase{h}} \). Then there exists a unique \hyperref[def:positive-op]{positive} \hyperref[def:self-adjoint-op]{self-adjoint operator} \(\sqrt{T} \in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) such that
	\[
		(\sqrt{T} )^{2} = T.
	\]
\end{proposition}
\begin{proof}
	Let \(f\colon \sigma(T) \to \mathbb{\MakeUppercase{r}} \) where \(\sigma (T) \subseteq \mathbb{\MakeUppercase{r}} ^+\) since \(T\) is \hyperref[def:positive-op]{positive}. And since \(f(t) = \sqrt{t} \) is continuous on \(\sigma (T)\), so we can define \(f(T)\) by \(f(t)^2 = t\), i.e., \(f(T)^2 = T\).\footnote{The uniqueness is left as an exercise.}
\end{proof}


\subsection{Modulus of Operators}
Now, consider an arbitrary operator \(T\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\), which is not necessarily \hyperref[def:self-adjoint-op]{self-adjoint}. Then \(T^{\ast} T\) is a \hyperref[def:positive-op]{positive} \hyperref[def:self-adjoint-op]{self-adjoint operator}, so it has a unique \hyperref[def:positive-op]{positive} square root. This suggests the following definition.

\begin{definition}[Modulus]\label{def:modulus}
	Let \(T\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\), then the \emph{modulus} of \(T\) is defined as \(\vert T \vert \coloneqq \sqrt{T^{\ast} T} \).
\end{definition}

This generalizes the concept of modulus of complex numbers, i.e., \(\vert z \vert = \sqrt{\overline{z} z} \) for \(z\in \mathbb{\MakeUppercase{c}} \).

\begin{lemma}\label{lma:lec24}
	For every operator \(T\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) and vector \(x\in \mathcal{\MakeUppercase{h}} \), one has
	\[
		\lVert \vert T \vert x \rVert = \lVert Tx \rVert.
	\]
\end{lemma}
\begin{proof}
	Since
	\[
		\lVert \vert T \vert x \rVert ^2
		= \left\langle \vert T \vert x, \vert T \vert x \right\rangle
		= \left\langle \vert T \vert ^2 x, x \right\rangle
		= \left\langle T^{\ast} Tx, x \right\rangle
		= \left\langle Tx, Tx \right\rangle
		= \lVert Tx \rVert ^2,
	\]
	which leads to the polar decomposition theorem.
\end{proof}

\subsection{Polar Decomposition}
\autoref{lma:lec24} motivates us to consider a map
\[
	U\colon \vert T \vert x \mapsto Tx
\]
for \(x\in \mathcal{\MakeUppercase{h}} \).

Let \(U\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) be an isometry, i.e., \(\lVert Ux \rVert = \lVert x \rVert \) for all \(x\in \mathcal{\MakeUppercase{h}} \). Then this implies \(U\) is injective but not necessarily surjective.

\begin{lemma}
	The operator \(U\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) is an isometry if and only if \(U^{\ast} U = I\).
\end{lemma}
\begin{proof}
	Suppose \(U^{\ast} U = I\), then
	\[
		\lVert Ux \rVert ^2
		= \left\langle Ux, Ux \right\rangle
		= \left\langle U^{\ast} Ux, x \right\rangle
		= \left\langle x, x \right\rangle
		= \lVert x \rVert ^2,
	\]
	so \(U\) is an isometry. Conversely, suppose \(\lVert Ux \rVert = \lVert x \rVert \) for all \(x\in \mathcal{\MakeUppercase{h}} \), then this implies \(U^{\ast} U = I\) since with \hyperref[lma:polarization-identity]{polarization identity},
	\[
		\begin{split}
			\left\langle U^{\ast} Ux, y \right\rangle
			= \frac{1}{4} &\left[ \left\langle U^{\ast} U(x+y), x+y \right\rangle - \left\langle U^{\ast} U(x-y), x-y \right\rangle \right.\\
				&+ \left. i\left\langle U^{\ast} U(x+iy), x+iy \right\rangle - i\left\langle U^{\ast} U(x-iy), x-iy \right\rangle \right],
		\end{split}
	\]
	and by the assumption, \(\left\langle U^{\ast} Uz, z \right\rangle = \left\langle z, z \right\rangle \) for all \(z\in \mathcal{\MakeUppercase{h}} \), so \(\left\langle U^{\ast} , Ux, y \right\rangle = \left\langle x, y \right\rangle \) for all \(x, y\in \mathcal{\MakeUppercase{h}} \), so \(U^{\ast} U = I\).
\end{proof}

Recall the \hyperref[def:unitary-op]{unitary operator}, where equivalently, we have that \(U\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) is \hyperref[def:unitary-op]{unitary} if \(U\) is an isometry and \(U\) is surjective. In other words, \(U\) is \hyperref[def:unitary-op]{unitary} if and only if \(U^{\ast} U = I = U U^{\ast} \), i.e., \(U^{\ast} = U ^{-1} \).

\begin{proposition}
	Let \(U\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) be \hyperref[def:unitary-op]{unitary}, then
	\[
		\sigma (U) \subseteq \left\{ \lambda \in \mathbb{\MakeUppercase{c}} \colon \vert \lambda  \vert = 1 \right\}.
	\]
\end{proposition}
\begin{proof}
	Since \(\lVert U \rVert = \lVert U^{-1}  \rVert = 1\), we know that \(\lVert U \rVert \leq 1\) implies \(\rho (U)\) contains \(\left\{ \lambda \in \mathbb{\MakeUppercase{c}} \colon \vert \lambda \vert > 1 \right\} \); and \(\lVert U^{-1}  \rVert \leq 1\) implies that \(\rho (U^{-1} )\) contains \(\left\{ \lambda \in \mathbb{\MakeUppercase{c}} \colon \vert \lambda  \vert > 1 \right\} \), so \(\lambda \in \rho (U^{-1} ) \iff \lambda ^{-1} \in \rho (U)\). So,
	\[
		(U ^{-1}  - \lambda I)^{-1} = \lambda ^{-1} U(\lambda ^{-1} I- U)^{-1} .
	\]
	If \(\lambda \neq 0\), then we can conclude that \(\rho (U)\) contains \(\left\{ \lambda \in \mathbb{\MakeUppercase{c}} \colon \vert \lambda  \vert \neq 1 \right\} \).
\end{proof}

\begin{theorem}[Polar decomposition]\label{thm:polar-decomposition}
	For every \(T\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\), there exists a unique bijective linear isometry \(U\in \mathcal{\MakeUppercase{l}} (\im (\vert T \vert ), \im T)\) such that \(T = U\vert T \vert \).
\end{theorem}
\begin{proof}
	Define \(U\) on \(\im(\vert T \vert )\) by \(U(\vert T \vert x) = Tx\) for all \(x\in \mathcal{\MakeUppercase{h}} \).\footnote{Notice that this makes sense since \(\vert Tx \vert = 0 \iff Tx = 0\).} Then, \(U\) is an isometry since \(\vert T \vert = \sqrt{T ^{\ast} T} \), and \(U\) is injective and \(U\) maps onto \(\im (T)\), so \(U\) is surjective.
\end{proof}

\hyperref[thm:polar-decomposition]{Polar decomposition} generalizes the polar decomposition in the complex plane. The latter states that every \(z\in \mathbb{\MakeUppercase{c}} \) can be represented as
\[
	z = e^{i \arg (z)} \vert z \vert,
\]
where \(e^{i \arg(z)}\) is a unit scalar (generalized by \(U\)), and \(\vert z \vert \) is the modulus of \(z\) (generalized by \(\vert T \vert\)).

\begin{theorem}[Polar decomposition for invertibile operator]\label{thm:polar-decomposition-for-invertible-op}
	If \(T\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) is invertible, then operator \(U\) is \hyperref[def:unitary-op]{unitary}.
\end{theorem}
\begin{proof}
	\(\im(T) = \mathcal{\MakeUppercase{h}} \), hence \(\im(\vert T \vert ) = \mathcal{\MakeUppercase{h}} \).
\end{proof}

\section{Borel Functional Calculus}

\begin{theorem}[Borel functional calculus]\label{thm:Borel-functional-calculus}
	Let \(\sigma (T) \subseteq [m, M]\) and \(\mathcal{\MakeUppercase{B}} ([m, M])\) be the linear space of bounded Borel measurable functions \(f\colon [m, M] \to\mathbb{\MakeUppercase{c}}  \) such that
	\[
		\lVert f \rVert _\infty = \sup _{t\in[m, M]} \vert f(t) \vert  < \infty.
	\]
	Then we can define a \hyperref[def:self-adjoint-op]{self-adjoint operator} \(f(T)\in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) with the following properties.
	\begin{enumerate}[(a)]
		\item If \(f(\cdot)\) is real-valued, then \(f(T)\) is \hyperref[def:self-adjoint-op]{self-adjoint}.
		\item If \(f\colon [m, M] \to \mathbb{\MakeUppercase{c}} \), \(f\in \mathcal{\MakeUppercase{B}} ([m, M])\), then \(\lVert f(T) \rVert \leq \lVert f \rVert _\infty \).
		\item Suppose \(f_n \in \mathcal{\MakeUppercase{B}} ([m, M])\) for all \(n\geq 1\) and \(f\in \mathcal{\MakeUppercase{B}} ([m, M])\) such that \(\sup _{n\geq 1}\lVert f_n \rVert _\infty < \infty \) and \(f_n \to f\) point-wise, i.e., \(\lim_{n \to \infty} f_n(t) = f(t)\) for all \(t\in [m, M]\). Then \(f_n(T)\) \hyperref[def:strongly-convergence]{converges strongly} to \(f(T)\), i.e.,
		      \[
			      \lim_{n \to \infty} \lVert f_n(T) x - f(T) x \rVert = 0
		      \]
		      for all \(x\in \mathcal{\MakeUppercase{h}} \).
		\item Suppose \(T, S \in \mathcal{\MakeUppercase{l}} (\mathcal{\MakeUppercase{h}} )\) are \hyperref[def:self-adjoint-op]{self-adjoint} and commute, i.e., \(TS = ST\), and assume further that \(\sigma (T), \sigma (S) \subseteq [m, M]\) and \(f, g\in \mathcal{\MakeUppercase{b}} ([m, M])\). Then \(f(T)\) and \(g(S)\) commute, i.e., \(f(T) \cdot g(S) = g(S) \cdot f(T)\).
	\end{enumerate}
\end{theorem}