\lecture{26}{1 Dec. 14:30}{Urysohn's Lemma}
Now, we build the foundation toward proving the \hyperref[thm:Urysohn-lemma]{Urysohn's lemma}.

\begin{definition}[Topology]\label{def:topology}
	Given a nonempty set \(X\) of points, a family \(\mathcal{\MakeUppercase{t}} \) of subsets (the open sets) is called a \emph{topology} if it satisfies the following.
	\begin{enumerate}[(a)]
		\item \(\mathcal{T} \) contains \(X\) and the empty set \(\varnothing \).
		\item If \(O_1, O_2 \in \mathcal{T} \), \(O_1 \cap O_2\in \mathcal{T} \).
		\item If \(O_d \in \mathcal{T} \) for \(d\in \mathcal{\MakeUppercase{f}}\), \(\bigcup_{d\in \mathcal{\MakeUppercase{f}} } O_d \in \mathcal{T} \).
	\end{enumerate}
\end{definition}

\begin{definition}[Topological space]\label{def:topological-space}
	A \emph{topological space} \((X, \mathcal{T})\) is a nonempty set \(X\) of points together with a \hyperref[def:topology]{topology} \(\mathcal{\MakeUppercase{T}}\).
\end{definition}

\begin{definition}[Hausdorff]\label{def:Hausdorff}
	A \hyperref[def:topological-space]{topological space} \((X, \mathcal{T})\) is \emph{Hausdorff} if given two distinct points \(x_1, x_2\in X\), there exists disjoint open sets \(O_1, O_2\in \mathcal{T} \) such that \(x_1\in O_1\), \(x_2\in O_2\).
\end{definition}

\begin{definition}[Locally compact]\label{def:locally-compact}
	A \hyperref[def:Hausdorff]{Hausdorff} space \((X, \mathcal{T})\) is \emph{locally compact} if for every \(x\in X\), there exists open \(O\in \mathcal{T} \) such that \(x\in O\) and the closure \(\overline{O} \) of \(O\) is \hyperref[def:compact]{compact}.
\end{definition}

\begin{remark}[Closure]
	Formally, given a \hyperref[def:topological-space]{topological space} \((X, \mathcal{\MakeUppercase{t}} )\), the closure \(\overline{O} \) of an open set \(O\in \mathcal{\MakeUppercase{t}} \) is defined as
	\[
		\overline{O} \coloneqq \bigcap_{F \supseteq O} F,
	\]
	where \(F\) is closed (complement of some open set).
\end{remark}

\begin{theorem}
	Let \((X, \mathcal{T})\) be a \hyperref[def:topological-space]{topological space} and \(K \subseteq X\) being \hyperref[def:compact]{compact}, i.e., every open cover of \(K\) has a finite subcover. Suppose \(F\) is closed and \(F \subseteq K\), then \(F\) is also compact.
\end{theorem}
\begin{proof}
	If \(\left\{ V_\alpha \right\}_{\alpha \in \mathcal{\MakeUppercase{f}} } \) is an open cover of \(F\), then \(\left\{ V_\alpha  \right\}_{\alpha \in \mathcal{\MakeUppercase{f}} } \) and \(X\setminus F\) is an open cover of \(K\). Since \(K\) is \hyperref[def:compact]{compact}, we can find a finite subcover of \(K\), which also covers \(F\) since \(F \subseteq K\), hence \(F\) is \hyperref[def:compact]{compact} from definition.
\end{proof}

\begin{theorem}
	Suppose \(X\) is \hyperref[def:Hausdorff]{Hausdorff}, \(K \subseteq X\) being \hyperref[def:compact]{compact} and \(p \notin K\). Then there exists disjoint open sets \(U, W\) such that \(p\in U\), \(K \subseteq W\).
\end{theorem}
\begin{proof}
	By the \hyperref[def:Hausdorff]{Hausdorff} property, for every \(q\in K\), there exists open sets \(U_p, V_q\) such that \(p\in U_p\), \(q\in V_q\) with \(U_p, V_q\) disjoint. Then \(\left\{ V_q \right\} _{q\in K}\) is an open cover of \(K\), so we have a finite subcover \(V_{q_1}, \ldots  , V_{q_n}\) of \(K\). Now, take
	\[
		W = \bigcup_{j=1}^{n} V_{q_j} \supseteq K,\quad
		U = \bigcap_{j=1}^{n} U_{p_j} \ni p,
	\]
	we have that \(U, W\) being open and disjoint.
\end{proof}

\begin{corollary}
	\hyperref[def:compact]{Compact} subsets of \hyperref[def:Hausdorff]{Hausdorff space} are closed.
\end{corollary}

\begin{corollary}
	If \(F\) is closed and \(K\) is \hyperref[def:compact]{compact}, then \(F \cap K\) is compact.
\end{corollary}

\begin{theorem}
	If \(\left\{ K_\alpha  \right\}_{\alpha \in \mathcal{\MakeUppercase{f}} } \) is a collection of \hyperref[def:compact]{compact} subsets of a \hyperref[def:Hausdorff]{Hausdorff space} such that \(\bigcap_{\alpha \in \mathcal{\MakeUppercase{f}} } K_\alpha \) is empty, then some finite subcollection of \(K_\alpha \), \(\alpha \in \mathcal{\MakeUppercase{f}} \), has empty intersection.
\end{theorem}
\begin{proof}
	Consider any \(K_{\alpha_0} \) with \(\alpha _0\in \mathcal{\MakeUppercase{f}} \). Then
	\[
		K_{\alpha _0} \subseteq \bigcup_{\substack{\alpha \in \mathcal{\MakeUppercase{f}} \\ \alpha \neq \alpha _0}} (X\setminus K_\alpha ).
	\]
	This is an open cover of \(K_{\alpha _0}\), so there exists a finite subcovers, i.e.,
	\[
		K_{\alpha _0} \subseteq (X \setminus K_{\alpha _1}) \cup \ldots \cup (X \setminus K_{\alpha _n}),
	\]
	leading to the fact that \(\bigcap_{j=0}^{n} K_{\alpha _j} = \varnothing \).
\end{proof}

\begin{theorem}
	Let \(X\) be a \hyperref[def:locally-compact]{locally compact} \hyperref[def:Hausdorff]{Hausdorff} space, and \(U\) is open, \(K\) is \hyperref[def:compact]{compact} and \(K \subseteq U\). Then there exists an open set \(V\) such that \(\overline{V} \) is \hyperref[def:compact]{compact} and \(K \subseteq V \subseteq \overline{V} \subseteq U\).
\end{theorem}
\begin{proof}
	By the \hyperref[def:locally-compact]{locally compactness} property, every point of \(K\) has an open neighborhood with \hyperref[def:compact]{compact} closure. Since \(K\) is covered by a finite union of these open neighborhoods, hence \(K \subseteq G \subseteq \overline{G} \) and \(\overline{G} \) is \hyperref[def:compact]{compact}. We see that if \(U = X\) we're done since we can take \(V = G\). Otherwise, note that for each \(p\in X \setminus U\), \(p\notin K\), so there exists open \(W_p\) and \(p \notin \overline{W} _p\). Now, consider the family \((X \setminus U) \cap \overline{G} \cap \overline{W} _p\), \(p\in X\setminus U\), with \(\overline{G} \) \hyperref[def:compact]{compact}, we see that this is a family of \hyperref[def:compact]{compact sets} with empty intersection. This means there is a finite number of these \(p_1, \ldots  , p_n\) have empty intersection, so by taking \(V = G \cap W_{p_1} \cap \ldots  \cap W_{p_n}\),
	\[
		K \subseteq V \subseteq \overline{V} \subseteq U.
	\]
\end{proof}

\begin{definition*}
	Let \(X\) be a \hyperref[def:topological-space]{topological space} and \(f\colon X \to \mathbb{\MakeUppercase{r}} \).
	\begin{definition}[Lower semi-continuous]\label{def:lower-semi-continuous}
		If \(\left\{ x\in X\colon f(x) > \alpha  \right\} \) is open for all \(\alpha \in \mathbb{\MakeUppercase{r}} \), then \(f\) is \emph{lower semi-continuous}.
	\end{definition}
	\begin{definition}[Upper semi-continuous]\label{def:upper-semi-continuous}
		If \(\left\{ x\in X\colon f(x) < \alpha  \right\} \) is open for all \(\alpha \in \mathbb{\MakeUppercase{r}} \), then \(f\) is \emph{upper semi-continuous}.
	\end{definition}
\end{definition*}

\begin{remark}
	A real function \(f\colon X \to R\) is continuous if and only if it is both \hyperref[def:upper-semi-continuous]{upper} and \hyperref[def:lower-semi-continuous]{lower semi-continuous}.
\end{remark}

\begin{remark}
	The characteristic functions of open sets are \hyperref[def:lower-semi-continuous]{lower semi-continuous}, while the characteristic functions of closed sets are \hyperref[def:upper-semi-continuous]{upper semi-continuous}.
\end{remark}

\begin{remark}
	The supremum of a family of \hyperref[def:lower-semi-continuous]{lower semi-continuous} is \hyperref[def:lower-semi-continuous]{lower semi-continuous}; while the infimum of a family of \hyperref[def:upper-semi-continuous]{upper semi-continuous} is \hyperref[def:upper-semi-continuous]{upper semi-continuous}.
\end{remark}

\begin{remark}
	\(f(\cdot)\) is \hyperref[def:lower-semi-continuous]{lower semi-continuous} if \(\left\{ x\in X\colon f(x) \leq \alpha \right\} \) is closed for all \(\alpha \in \mathbb{\MakeUppercase{r}} \). For metric spaces \(X\), this is equivalent to
	\[
		f(x) \leq \liminf_{x_n \to x} f(x_n).
	\]
\end{remark}

\begin{definition}[Support]\label{def:support}
	Let \((X, \mathcal{T} )\) be a \hyperref[def:topological-space]{topological space}. The \emph{support}of a function \(f\colon X \to \mathbb{\MakeUppercase{r}} \) is the closure of the set \(\left\{ x\in X\colon f(x) \neq 0 \right\}\).
\end{definition}

\begin{notation}
	The collection of all continuous functions on \(X\) with \hyperref[def:compact]{compact} \hyperref[def:support]{support} is denoted as \(C_c(X)\).
\end{notation}

\begin{theorem}\label{thm:lec26}
	Let \(X, Y\) be \hyperref[def:topological-space]{topological spaces} and \(f\colon X \to Y\) be continuous. If \(K \subseteq X\) is \hyperref[def:compact]{compact}, then \(f(K)\) is \hyperref[def:compact]{compact} in \(Y\).
\end{theorem}
\begin{proof}
	The open cover \(\left\{ O_\alpha  \right\}_{\alpha \in \mathcal{\MakeUppercase{f}} } \) of \(f(K)\) induces an open cover \(\left\{ f^{-1} (O_\alpha ) \right\}_{\alpha \in \mathcal{\MakeUppercase{f}} } \) of \(K\). Since \(K\) is \hyperref[def:compact]{compact}, we can find a finite subcover \(f^{-1} (O_{\alpha _1}), \ldots , f^{-1} (O_{\alpha _n}) \) of \(K\), i.e.,
	\[
		f(K) \subseteq O_{\alpha _1} \cup \ldots \cup O_{\alpha _n}.
	\]
\end{proof}

\begin{remark}
	The range of any \(f\in C_c(X)\) is \hyperref[def:compact]{compact}, i.e., \(f(X)\) is \hyperref[def:compact]{compact}.
\end{remark}

\begin{theorem}[Urysohn's lemma]\label{thm:Urysohn-lemma}
	Let \(X\) be a \hyperref[def:locally-compact]{locally compact} \hyperref[def:Hausdorff]{Hausdorff space} and \(V\) open in \(X\), \(K \subseteq V\) \hyperref[def:compact]{compact}. Then there exists \(f\in C_c(X)\) such that
	\[
		\chi _K \leq f \leq \chi _X,
	\]
	i.e., \(f(x) = 1\) for \(x\in K\), \(0 \leq f(y) \leq 1\) for \(y\in X\) and \(f(y) = 0\) for \(y \notin X\).
\end{theorem}
\begin{proof}
	Set \(r_1 = 0\), \(r_2 g 1\), and let \(r_3, r_4 \) be any enumeration of the ration number \(r\) with \(0 < r < 1\). By \autoref{thm:lec26}, we can find open sets \(V_0, V_1\) with
	\[
		K \subseteq V_1 \subseteq \overline{V} _1 \subseteq V_0 \subseteq \overline{V} _0 \subseteq V
	\]
	such that \(\overline{V} _0\) is \hyperref[def:compact]{compact}. Now, define a sequence \(V_r\) for rationals \(r\), \(0 < r < 1\). Suppose \(n \geq 2\) and \(V_{r_1}, V_{r_2}, \ldots  , V_{r_n}\) have already been chosen such that if \(r_i < r_j\), we have \(\overline{V}_{r_j} \subseteq V_{r_i}\) and \(\overline{V} _{r_j}\) \hyperref[def:compact]{compact} and \(V_{r_i}\) open. Let \(r_{n+1}\) be the next in enumerations of the rationals. Chose \(V_{r_{n+1}}\) open with \(\overline{V} _{r_{n+1}}\) \hyperref[def:compact]{compact}. One of the

	Hence, \(\overline{V} _{r_j} \subseteq V_{r_i}\), where \(\overline{V} _{r_j}\) is \hyperref[def:compact]{compact} and \(V_{r_i}\) is open. Let \(V_{r_{n+1}}\) be open, \(\overline{V} _{r_{n+1}}\) be \hyperref[def:compact]{compact}, we have
	\[
		\overline{V} _{r_j} \subseteq V_{r_{n+1}} \subseteq \overline{V} _{r_{n+1}} \subseteq V_{r_i}.
	\]
	Continuing have by induction a countable set \(V_r\), \(0 \leq r \leq 1\), \(r\), \(V_r\) is open and \(\overline{V} _r\) is \hyperref[def:compact]{compact}, we have \(\overline{V} _r \subseteq V_s\) if \(r > s\), \(r\) rational. For each rational \(r\), define function \(f_r\)
	\[
		f_r(x) = \begin{dcases}
			r, & \text{ if } x\in V_r ; \\
			0, & \text{ otherwise},
		\end{dcases}
	\]
	so \(f_r\) is \hyperref[def:lower-semi-continuous]{lower semi-continuous}; also, we define \(g_s\)
	\[
		g_s(x) = \begin{dcases}
			1, & \text{ if } x\in \overline{V} _s ; \\
			s, & \text{ otherwise},
		\end{dcases}
	\]
	so \(g_s\) is \hyperref[def:upper-semi-continuous]{upper semi-continuous}. Define \(f = \sup _{r} f_r \), we know that \(f\) is \hyperref[def:lower-semi-continuous]{lower semi-continuous}; also, define \(g = \inf _{s} g_s\), \(g\) is \hyperref[def:upper-semi-continuous]{upper semi-continuous}. Note that \(f(x) = 1\) for \(x\in K\), \(f(x) = 0\) for \(x \notin \overline{V}_0 \) with \(0 \leq f \leq 1\); while \(g(x) = 1\) for \(x\in K\), \(g(x) = 0\) for \(x \notin \overline{V} _0\). Suppose \(f\equiv g\), hence \(f\) is continuous.

	\begin{claim}
		\(f = g\)
	\end{claim}
	\begin{explanation}
		Suppose \(f_r(x) > g_s(x)\), then \(r > s\), implying \(x\in V_r\). Also, \(\overline{V} \subseteq V_s\), so \(x\in V_s\) implies \(g_s(x) = 1\), contradiction, hence \(f \leq g\).

		On the other hand, suppose \(f(x) < g(x)\), then there exists rational \(r, s\) such that \(0 < r, s < 1\) such that \(f(x) < r < s < g(x)\). Since \(f(x) < s\), \(x \notin V_r\); and since \(g(x) > s\), \(x \in \overline{V} _s\), hence \(g_s(x) = s\). Also, we have \(\overline{V} _s \subseteq V_s\) since \(s > 1\), which is a contradiction.
	\end{explanation}
\end{proof}
