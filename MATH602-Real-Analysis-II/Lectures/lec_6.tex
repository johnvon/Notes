\lecture{6}{15 Sep. 14:30}{Abstract Fourier Series}
Let's first see the proof of \autoref{prop:lec5-1}.
\begin{proof}[Proof of \autoref{prop:lec5-1}]
	We prove them in order.
	\begin{enumerate}[(a)]
		\item Let \(x, y \notin \ker(f)\), so \(f(x), f(y) \neq 0\). Hence, there exists a scalar \(\lambda \neq 0\) such that \(f(x) = \lambda f(y)\), i.e., \(x - \lambda y\in \ker(f)\). Hence, if \([x], [y] \in \quotient{E}{\ker(f)} \), \([x] = \lambda [y]\), implying \(\dim{\quotient{E}{\ker(f)} }=1\). Now, if \(f\) is bounded, then \(f\) is continuous, so \(\ker(f) = f^{-1} (\left\{ 0 \right\} )\) is closed.
		\item Consider the induced functionals \(\widetilde{f} , \widetilde{g} \colon \quotient{E}{H} \to \mathbb{\MakeUppercase{r}} \) or \(\mathbb{\MakeUppercase{c}} \) where \(H = \ker(f) = \ker(g)\). This implies
		      \[
			      \dim \left( \quotient{E}{H} \right)  = 1\implies \widetilde{f} = a \widetilde{g} \text{ for some } a \neq 0 \implies f = ag.
		      \]
		\item Assume \(\dim (\quotient{E}{H}) = 1\), so \(\quotient{E}{H} = \left\{ a[x_0]\colon a\in \mathbb{\MakeUppercase{c}} \text{ (or \(\mathbb{R}\))}  \right\} \) for some \(x_0\in E\). Then, for any \(x\in E\), then \([x] = a(x)[x_0]\) for some \(a(x)\in \mathbb{\MakeUppercase{c}} \) or \(\mathbb{\MakeUppercase{r}} \). Define \(f(x) \coloneqq a(x)\), we see that \(f\) is linear and \(\ker(f) = H\). Now, if \(E\) is a \hyperref[def:Banach-space]{Banach space} and \(H\) is closed with \(\dim (\quotient{E}{H}) = 1\). Recall that \(\quotient{E}{H}\) is also a \hyperref[def:Banach-space]{Banach space} with \hyperref[def:norm]{norm} \(\left\lVert [x]\right\rVert = \inf _{y\in H} \left\lVert x + y\right\rVert \) for \(x\in E\).\footnote{We see now why we need the closure: otherwise we'll get a non-zero function with \hyperref[def:norm]{norm} \(0\).} Let \(\widetilde{f} \) be a linear functional on \(\quotient{E}{H} \). Then \(\dim(\quotient{E}{H})\) is finite, \(\widetilde{f} \) is continuous, implying \(\left\vert \widetilde{f} ([x]) \right\vert \leq A \left\lVert [x]\right\rVert \) for all \(x\in E\). Finally, we define \(f(x) = \widetilde{f} ([x])\) for \(x\in E\), then \(\ker(f) = H\) and \(\left\vert f(x) \right\vert \leq A \left\lVert [x]\right\rVert \leq A \left\lVert x\right\rVert\).
	\end{enumerate}
\end{proof}

\section{Riesz Representation Theorem}

Let's first see the statement.

\begin{theorem}[Riesz Representation Theorem]\label{thm:Riesz-representation}
	Let \(\mathcal{\MakeUppercase{h}} \) be a \hyperref[def:Hilbert-space]{Hilbert space}. Then we have the following.
	\begin{enumerate}[(a)]
		\item For every \(y\in \mathcal{\MakeUppercase{h}} \), then function \(f(x) = \left\langle x, y \right\rangle \) for \(x\in \mathcal{\MakeUppercase{h}} \) is a \hyperref[def:bounded-linear-functional]{bounded linear functional} on \(\mathcal{\MakeUppercase{h}} \).
		\item If \(f\colon \mathcal{\MakeUppercase{h}} \to \mathbb{\MakeUppercase{c}} \) or \(\mathbb{\MakeUppercase{r}} \) is a \hyperref[def:bounded-linear-functional]{bounded linear functional} on \(\mathcal{\MakeUppercase{h}} \), then there exists \(y\in \mathcal{\MakeUppercase{h}} \) such that \(f(x) = \left\langle x,y \right\rangle \) for all \(x\in \mathcal{\MakeUppercase{h}} \). Hence, the \hyperref[def:dual-space]{dual} \(\mathcal{\MakeUppercase{h}} ^{\ast} \) of \(\mathcal{\MakeUppercase{h}} \) is isometric to \(\mathcal{\MakeUppercase{h}} \).
	\end{enumerate}
\end{theorem}
\begin{proof}
	We prove this in order.
	\begin{enumerate}[(a)]
		\item This follows form \hyperref[thm:Cauchy-Schwarz-ineq]{Cauchy-Schwarz inequality} such that
		      \[
			      \left\vert f(x) \right\vert = \left\vert \left\langle x, y \right\rangle  \right\vert \leq \left\lVert x\right\rVert \left\lVert y\right\rVert ,
		      \]
		      i.e., \(\left\lVert f\right\rVert = \left\lVert y\right\rVert \) by setting \(x = y / \left\lVert y\right\rVert \).
		      \begin{note}
			      Note that there exists \(x_f\) such that \(\left\lVert x_f\right\rVert = 1\) since \(\left\lVert f\right\rVert = \sup _{\left\lVert x\right\rVert = 1} \left\vert f(x) \right\vert = f(x_f)\), i.e., the supremum is achieved, although we're working on an infinite dimensional space. This property does not always hold for \hyperref[def:bounded-linear-functional]{bounded linear functionals} on \hyperref[def:Banach-space]{Banach space}. But this holds for \hyperref[def:Hilbert-space]{Hilbert space}.
		      \end{note}
		\item Let \(f\colon \mathcal{\MakeUppercase{h}} \to \mathbb{\MakeUppercase{c}} \) or \(\mathbb{\MakeUppercase{r}} \) be a \hyperref[def:bounded-linear-functional]{bounded linear functional} on \(\mathcal{\MakeUppercase{h}} \). Let \(H = \ker(f)\), which is closed from \autoref{prop:lec5-1}. Let \(H ^\perp\) be the \hyperref[def:orthogonal-complement]{orthogonal complement} of \(H\), i.e., \(\mathcal{\MakeUppercase{h}} = H\oplus H^\perp\). Then \(\dim (\quotient{\mathcal{\MakeUppercase{h}} }{H} )= 1\implies \dim(H^\perp) = 1\). Choose \(y\in H^\perp\) such that \(f(y) = \left\langle y, y \right\rangle \) which can be done since \(f(y^\prime ) = \lambda y^\prime \) for some \(\lambda \in \mathbb{\MakeUppercase{c}} \) or \(\mathbb{\MakeUppercase{r}} \). This implies \(f(x) = \left\langle x, y \right\rangle \) for \(x\in \mathcal{\MakeUppercase{h}} \).
	\end{enumerate}
\end{proof}

We can use \hyperref[thm:Riesz-representation]{Riesz representation theorem} to give a proof of \href{https://en.wikipedia.org/wiki/Radon%E2%80%93Nikodym_theorem}{Radon-Nikodym theorem}. 

\begin{theorem}[Radon-Nikodym theorem]\label{thm:Radon-Nikodym}
	Let \(\mu , \nu \) be two finite measures such that \(v \ll \mu \), i.e., \(\nu \) is absolutely continuous w.r.t, \(\mu \).\footnote{This means \(\mu (A) = 0 \implies \nu (A) = 0\).} Then there exists \(g \geq 0\) such that \(g\) is \(\mu \) integrable and
	\[
		\nu (A) = \int _A g \,\mathrm{d} \mu
	\]
	for \(A\) measurable.
\end{theorem}
\begin{proof}
	Consider the linear functional \(F\colon L^2(\mu ) \to \mathbb{\MakeUppercase{r}} \) or \(\mathbb{\MakeUppercase{c}} \) such that
	\[
		F(f) = \int _{\Omega }f\,\mathrm{d} \mu .
	\]
	Then we have \(\left\lVert F(f)\right\rVert \leq \left\lVert f\right\rVert _2 \sqrt{ \mu (\Omega )}\). We see that \(F\) is also a bounded linear functional on \(L^2(\mu + \nu )\), hence by \autoref{thm:Riesz-representation}, there exists \(h\in L^2(\mu +\nu )\) such that
	\[
		F(f) = \int_\Omega  fh\,\mathrm{d} (\mu +\nu )
	\]
	for \(f\in L^2(\mu + \nu )\), i.e.,
	\begin{equation}\label{eq:lec6-1}
		\int _\Omega f\,\mathrm{d} \mu = \int _\Omega fh\,\mathrm{d} \mu + \int _\Omega fh \,\mathrm{d} \nu
	\end{equation}
	if \(f\in L^2(\mu +\nu )\). This further implies
	\begin{equation}\label{eq:lec6-2}
		\int _\Omega fh\,\mathrm{d} \nu = \int _\Omega f[1 - h] \,\mathrm{d} \mu
	\end{equation}
	for \(f\in L^2(\mu + \nu )\). Let \(A\subseteq \Omega \) where \(A\) is measurable, and we set \(f = \frac{1}{h}\chi _A\), then \(\nu (A) = \int _A g\,\mathrm{d} \mu \), \(g = \frac{1 - h}{h}\implies g = \frac{\mathrm{d}\nu }{\mathrm{d}\mu }\). But we still need to show that this is well-defined, i.e., there are no zeros of \(h\).
	\begin{claim}
		This \(h\) satisfies \(0 < h \leq 1\) a.e. i.e., outside a set of measure \(\mu +\nu \) zero.
	\end{claim}
	\begin{explanation}
		We first note that \(\mu (A) = 0 \iff \mu (A) + \nu (A) = 0\). Let \(A = \left\{ h \leq 0 \right\} \), \(f = \mathbbm{1}_{A}\) be the characteristic function on \(A\). Then \autoref{eq:lec6-1} implies
		\[
			\int _A h ( \,\mathrm{d} \mu  + \,\mathrm{d} \nu ) \leq 0 \implies \mu (A) = 0 \implies h > 0 \text{ \(\mu\) a.e.}
		\]
		But since \(g\) is a positive function, so we also need \(h \leq 1\). Again, set \(B = \left\{ h > 1 \right\} \), \(f = \mathbbm{1}_{B}\). Then \autoref{eq:lec6-1} implies
		\[
			\mu (B) = \int _B h \left( \,\mathrm{d} \mu + \,\mathrm{d} \nu  \right) > \mu (B)
		\]
		unless \(\mu (B) = 0\).
	\end{explanation}
	We see that \(0 < h \leq 1\) \(\mu \) a.e. This implies \autoref{eq:lec6-2} holds for all \(f \geq 0\), \(f\in L^2(\mu + \nu )\). Now, by using \href{https://en.wikipedia.org/wiki/Monotone_convergence_theorem}{monotone convergence theorem}, we conclude that \autoref{eq:lec6-2} holds for all \(f \geq 0\),\footnote{Both sides could be \(\infty\).} hence we just plug in \(f = \frac{1}{h}\chi _A\) and get the result.
\end{proof}

\begin{notation}[Radon-Nikodym derivative]
	\(g\) in \autoref{thm:Radon-Nikodym} is referred to as the \emph{Radon-Nikodym derivative} where \(g \coloneqq \mathrm{d}\nu /\mathrm{d}\mu \).
	\begin{note}[Uniqueness]
		The uniqueness of Radon-Nikodym derivatives can be shown via
		\[
			\int _A g\,\mathrm{d} \mu = 0
		\]
		for all \(\mu \)-measurable \(A\), i.e., \(g=0\) \(\mu\) a.e.
	\end{note}
\end{notation}

\begin{remark}
	We see that given a \hyperref[def:Hilbert-space]{Hilbert space} \(\mathcal{\MakeUppercase{h}} \), \hyperref[thm:Riesz-representation]{Riesz representation theorem} identifies the \hyperref[def:dual-space]{dual space} \(\mathcal{\MakeUppercase{h}} ^{\ast} \), which can be used to show \hyperref[thm:Radon-Nikodym]{Radon-Nikodym theorem}. Consider spaces \(L^p(\Omega , \mu )\) for \(1 \leq p < \infty \), \hyperref[thm:Radon-Nikodym]{Radon-Nikodym theorem} implies that the \hyperref[def:dual-space]{dual} of \(L^p(\Omega , \mu )\) is \(L^q(\Omega , \mu )\) where \(1 / p + 1 / q = 1\), and if \(p = 1\), \(q = \infty \).
\end{remark}
\begin{explanation}
	The easy part is that \(g\in L^q\) induces a bounded linear functional on \(L^p\) by setting
	\[
		F(f) = \int _\Omega fg\,\mathrm{d} \mu.
	\]
	By \hyperref[lma:Holder-ineq]{HÃ¶lder's inequality}, \(\left\vert F(f) \right\vert \leq \left\lVert f\right\rVert _p \left\lVert g\right\rVert _q\). We then see that \(\left\lVert F\right\rVert = \left\lVert g\right\rVert _q\) by choosing \(f = \left\vert g \right\vert ^{q - 1}\overline{g} / \left\vert g \right\vert\) since
	\[
		F(f) = \int _\Omega \left\vert g \right\vert ^q\,\mathrm{d} \mu = \left\lVert g\right\rVert ^q_q,
	\]
	and from \(1 / p + 1 / q = 1 \implies q-1 = q / p\), we have
	\[
		\left\lVert f\right\rVert ^p_p = \int \left\vert f \right\vert ^p \,\mathrm{d} \mu= \int _\Omega \left\vert g \right\vert ^q\,\mathrm{d} \mu = \left\lVert g\right\rVert _q^q \implies \left\lVert f\right\rVert _p = \left\lVert g\right\rVert _q^{q / p} = \left\lVert g\right\rVert _q^{q - 1}.
	\]
	This implies
	\[
		F(f) = \int _\Omega \left\vert g \right\vert ^q\,\mathrm{d} \mu \implies \left\lVert g\right\rVert ^q_q = \left\lVert g\right\rVert _q \left\lVert f\right\rVert _p.
	\]
	\begin{note}
		We see that \(\sup _{\left\lVert f\right\rVert _p = 1} \left\vert F(f) \right\vert \) is attained for these functionals.
	\end{note}
\end{explanation}
